                                Release Summary

                                asterisk-18.0.0

                                Date: 2020-10-19

                           <asteriskteam@digium.com>

     ----------------------------------------------------------------------

                               Table of Contents

    1. Summary
    2. Contributors
    3. Closed Issues
    4. Open Issues
    5. Other Changes
    6. Diffstat

     ----------------------------------------------------------------------

                                    Summary

                                 [Back to Top]

   This is the first release of a major new version of Asterisk. For a list
   of new features that have been included with this release, please see the
   CHANGES file inside the source package. Since this is a new major release,
   users are encouraged to do extended testing before upgrading to this
   version in a production environment.

   The data in this summary reflects changes that have been made since the
   previous release, asterisk-17.0.0.

     ----------------------------------------------------------------------

                                  Contributors

                                 [Back to Top]

   This table lists the people who have submitted code, those that have
   tested patches, as well as those that reported issues on the issue tracker
   that were resolved in this release. For coders, the number is how many of
   their patches (of any size) were committed into this release. For testers,
   the number is the number of times their name was listed as assisting with
   testing a patch. Finally, for reporters, the number is the number of
   issues that they reported that were affected by commits that went into
   this release.

   Coders                     Testers               Reporters                 
   70 Sean Bright             1 tests/test_utils.c. 26 Joshua C. Colp         
   54 George Joseph                                 23 Alexander Traud        
   47 Joshua C. Colp                                13 Kevin Harwell          
   31 Kevin Harwell                                 9 Ross Beer               
   26 Alexander Traud                               8 sungtae kim             
   17 Ben Ford                                      8 nappsoft                
   16 Joshua Colp                                   7 Walter Doekes           
   16 Jaco Kroon                                    7 Torrey Searle           
   11 Walter Doekes                                 6 Frederic LE FOLL        
   9 sungtae kim                                    5 Guido Falsi             
   9 Alexander Traud                                5 cmaj                    
   8 Torrey Searle                                  5 George Joseph           
   8 Corey Farrell                                  4 Jaco Kroon              
   7 Richard Mudgett                                4 Jean Aunis - Prescom    
   6 Frederic LE FOLL                               4 Pascal Cadotte Michaud  
   6 Pirmin Walthert                                4 Ross Beer               
   6 Guido Falsi                                    3 Joshua Elson            
   5 Asterisk Development                           3 Sean Bright             
   Team                                             3 Salah Ahmed             
   5 Alexei Gradinari                               3 Nickolay V. Shmyrev     
   3 Pascal Cadotte Michaud                         3 lvl                     
   3 Igor Goncharovsky                              3 Alexei Gradinari        
   3 Jean Aunis                                     2 Stas Kobzar             
   3 Nickolay Shmyrev                               2 Michael Neuhauser       
   3 lvl                                            2 Ruddy G                 
   2 Rodrigo RamÃrez                                2 Joeran Vinzens          
   Norambuena                                       2 Timothy Vanderaerden    
   2 Andrew Siplas                                  2 SÃ©bastien Duthil       
   2 Salah Ahmed                                    2 Peter Sokolov           
   2 Michael Neuhauser                              2 Joseph Ades             
   2 cmaj                                           2 Gregory Massel          
   1 Kevin Reeves                                   2 Andrew Siplas           
   1 Michael Goryainov                              2 Jared Smith             
   1 UniversitÃ  di Bologna -                       2 Jonathan Harris         
   CESIA VoIP                                       2 Michael Neuhauser       
   1 Chris Savinovich                               1 Ramarajan               
   1 Nathan Bruning                                 1 Andrey V. T.            
   1 Paulo Vicentini                                1 tootai                  
   1 Peter Turczak                                  1 Martin Tomec            
   1 Sungtae Kim                                    1 AvayaXAsterisk          
   1 Dan Cropp                                      1 Joshua C. Colp          
   1 Jared Smith                                    1 Etienne Lessard         
   1 Stas Kobzar                                    1 Benjamin Keith Ford     
   1 Daniel Heckl                                   1 Yoooooo Ha              
   1 Dennis Buteyn                                  1 kevin@phoneburner.com   
   1 Bernard Merindol                               1 Juan Martin             
   1 Jonathan Rose                                  1 Sylvain Afchain         
   1 Kfir Itzhak                                    1 Speed Dial Dave         
   1 Roger James                                    1 Andrew Yager            
   1 Sebastian Kemper                               1 Jean-Denis Girard       
   1 Christoph Moench-Tegeder                       1 Marian Piater           
   1 Boris P. Korzun                                1 Bernard Merindol        
   1 Evandro CÃ©sar Arruda                          1 Martin Zeh              
   1 Moises Silva                                   1 Corey Farrell           
   1 Chris-Savinovich                               1 Dan Cropp               
   1 Michael Cargile                                1 Moises Silva            
   1 Sylvain Afchain                                1 Alexey Vasilyev         
   1 Florian Floimair                               1 Thomas Johnson          
   1 Nicholas John Koch                             1 SeÃ¡n C. McCord         
   1 Peter Sokolov (License                         1 Dirk Wendland           
   #7070)                                           1 Bryan Nelson            
   1 Martin Tomec                                   1 Sam Banks               
   1 Thomas Arimont (license                        1 Misha Vodsedalek        
   5525)                                            1 Nicholas John Koch      
   1 SeÃ¡n C McCord                                 1 Richard Kenner          
   1 Patrick Verzele                                1 EDV O-TON               
   1 snuffy                                         1 Byron Clark             
   1 Sebastien Duthil                               1 Christoph               
   1 Jason Hord (license                            Moench-Tegeder            
   6978)                                            1 sstream                 
                                                    1 Dmitriy Serov           
                                                    1 Alex                    
                                                    1 candrews                
                                                    1 SÃ©bastien Duthil       
                                                    1 Robert Sutton           
                                                    1 Evandro CÃ©sar Arruda   
                                                    1 Paul Brooks             
                                                    1 Yury Kirsanov           
                                                    1 Jason Hord              
                                                    1 Michael Cargile         
                                                    1 Kevin Flyn              
                                                    1 Shlomi Gutman           
                                                    1 George Joseph           
                                                    1 Frank Matano            
                                                    1 CÃ©dric Bassaget        
                                                    1 Dan Jenkins             
                                                    1 Jim Van Meggelen        
                                                    1 Patrick Wakano          
                                                    1 Jeremiah Gadd           
                                                    1 Michael                 
                                                    1 Daniel Heckl            
                                                    1 Boris P. Korzun         
                                                    1 Kilburn                 
                                                    1 Bernhard Schmidt        
                                                    1 Alexander Traud         
                                                    1 Joeran Vinzens          
                                                    1 Dennis                  
                                                    1 Vitold                  
                                                    1 Anton Satskiy           
                                                    1 Kevin Flyn              
                                                    1 David Cunningham        
                                                    1 Jim Van Meggelen        
                                                    1 Vitold                  
                                                    1 Florian Floimair        
                                                    1 Robert Sutton           
                                                    1 Daniel                  
                                                    1 Dan Jenkins             
                                                    1 Ove Aursand             
                                                    1 Dmitry Wagin            
                                                    1 Robin Leffmann          
                                                    1 Mitch Claborn           
                                                    1 Jonathan Hunter         
                                                    1 Joshua Roys             
                                                    1 Olivier Krief           
                                                    1 Paul Brooks             
                                                    1 Maciej Michno           
                                                    1 Kevin Reeves            
                                                    1 Niklas Larsson          
                                                    1 Bernhard Schmidt        
                                                    1 Christoph               
                                                    Moench-Tegeder            
                                                    1 Maciej Michno           
                                                    1 Stas Kobzar             
                                                    1 Cedric BASSAGET         
                                                    1 EDV O-TON               
                                                    1 Ted G                   
                                                    1 Frank Matano            
                                                    1 Yury Kirsanov           
                                                    1 Anton Satskiy           
                                                    1 David M. Lee            
                                                    1 Patrick Wakano          
                                                    1 Michael Goryainov       
                                                    1 Niklas Larsson          
                                                    1 Sebastian Kemper        
                                                    1 Francois Blackburn      
                                                    1 UniversitÃ  di Bologna  
                                                    - CESIA VoIP              
                                                    1 Richard Kenner          
                                                    1 Niksa Baldun            
                                                    1 Ian Jones               
                                                    1 Jean-Denis Girard       
                                                    1 Dmitriy Serov           
                                                    1 Peter Turczak           
                                                    1 Roger James             
                                                    1 Paulo Vicentini         
                                                    1 Ted G                   
                                                    1 Martin Zeh              
                                                    1 UniversitÃ  di Bologna  
                                                    - CESIA VoIP              
                                                    1 Marin Odrljin           
                                                    1 Jonas Swiatek           
                                                    1 Eliel SardaÃ±ons        
                                                    1 AvayaXAsterisk          
                                                    1 Dirk Wendland           
                                                    1 Joshua Roys             
                                                    1 Mark                    
                                                    1 Dan Cropp               
                                                    1 Jonathan Harris         
                                                    1 Matt Addison            
                                                    1 Leandro Dardini         
                                                    1 alex                    
                                                    1 Chris Savinovich        
                                                    1 xrobau                  
                                                    1 David Lee               
                                                    1 Nicholas John Koch      
                                                    1 Peter Sokolov           
                                                    1 Eliel SardaÃ±ons        
                                                    1 Sean Bright             
                                                    1 Aheliotech              
                                                    1 Bill Kervaski           
                                                    1 Cyril RamiÃ¨re          
                                                    1 JÃ¸rgen H               
                                                    1 Niksa Baldun            
                                                    1 Kfir Itzhak             

     ----------------------------------------------------------------------

                                 Closed Issues

                                 [Back to Top]

   This is a list of all issues from the issue tracker that were closed by
   changes that went into this release.

  Security

    Category: Channels/chan_sip/General

   ASTERISK-28589: chan_sip: Depending on configuration an INVITE can alter
   Addr of a peer
   Reported by: Andrey V. T.
     * [4a1cadeadb] Ben Ford -- chan_sip.c: Prevent address change on
       unauthenticated SIP request.

    Category: Core/ManagerInterface

   ASTERISK-28580: Bypass SYSTEM write permission in manager action allows
   system commands execution
   Reported by: Eliel SardaÃ±ons
     * [7e3a6e158f] George Joseph -- manager.c: Prevent the Originate action
       from running the Originate app

    Category: Resources/res_pjsip_t38

   ASTERISK-28495: res_pjsip_t38: 200 OK with SDP answer with declined stream
   causes crash
   Reported by: Alexei Gradinari
     * [18f5f5fc99] Alexei Gradinari -- AST-2019-004 - res_pjsip_t38.c: Add
       NULL checks before using session media

  New Feature

    Category: Applications/app_senddtmf

   ASTERISK-28614: app_senddtmf: Allow "receiving" DTMF with PlayDTMF instead
   of only "sending"
   Reported by: lvl
     * [772b59034f] lvl -- app_senddtmf: Add receive mode to AMI Action
       PlayDTMF

    Category: Core/General

   ASTERISK-6863: [patch] allow Asterisk to set high ToS bits as non-root on
   Linux
   Reported by: Matt Addison
     * [a107e85b2e] Alexander Traud -- install_prereq: Add libcap for high
       bits in DiffServ/ToS.

    Category: Core/Jitterbuffer

   ASTERISK-28533: func_jitterbuffer: Add support for video synchronization
   Reported by: Joshua C. Colp
     * [7298a785ad] Joshua Colp -- func_jitterbuffer: Add audio/video sync
       support.

    Category: Functions/func_curl

   ASTERISK-17491: CURLOPT() needs a "followlocation" parameter / "maxredirs"
   doesn't do anything
   Reported by: candrews
     * [0c2bf1664c] Sean Bright -- func_curl: Add 'followlocation' option to
       CURLOPT()
   ASTERISK-28613: func_curl: CURLOPT cannot set Content-Type header
   Reported by: Martin Tomec
     * [d257a0898e] Martin Tomec -- func_curl.c: Support custom http headers

    Category: Resources/res_musiconhold

   ASTERISK-17808: [patch] Unregister a realtime moh class
   Reported by: Byron Clark
     * [cf364cd007] sungtae kim -- res_musiconhold: Added unregister realtime
       moh class

    Category: Resources/res_pjsip_endpoint_identifier_ip

   ASTERISK-28639: res_pjsip_endpoint_identifier_ip: Add ability to match on
   source port
   Reported by: Sean Bright
     * [312abaa1fe] Sean Bright -- res_pjsip_endpoint_identifier_ip.c: Add
       port matching support

    Category: pjproject/pjsip

   ASTERISK-28489: Channel variable SIPFROMDOMAIN for chan_pjsip to setup
   From header URI domain
   Reported by: Stas Kobzar
     * [c7270dca81] Stas Kobzar -- res_pjsip: Channel variable SIPFROMDOMAIN

  Bug

    Category: .Release/Targets

   ASTERISK-28488: pjsip mwi: n+1 sip notify's sent on re-register
   Reported by: Chris Savinovich
     * [172e183b9d] Kevin Harwell -- res_pjsip_mwi: add better handling of
       solicited vs unsolicited subscriptions

    Category: Applications/General

   ASTERISK-28954: StreamEcho() only returns 1 active stream
   Reported by: Bill Kervaski
     * [00a52b4752] Joshua C. Colp -- app_stream_echo: Fix state of added
       streams.
   ASTERISK-16676: DAHDIRAS fails to properly initiate pppd unless asterisk
   is running as root
   Reported by: Jaco Kroon
     * [4f92dcd66b] Jaco Kroon -- dahdiras: Only set plugin dahdi.so to pppd
       if we're running as root.

    Category: Applications/app_amd

   ASTERISK-28608: app_amd: Use time calculation to calculate timeout
   Reported by: Michael Cargile
     * [5bda460300] Michael Cargile -- app_amd: Fixed timeout issue

    Category: Applications/app_chanisavail

   ASTERISK-28636: app_chanisavail+cdr: ChanIsAvail sometimes fails to
   deactivate CDR.
   Reported by: Frederic LE FOLL
     * [a83625b366] Frederic LE FOLL -- app_chanisavail/cdr: ChanIsAvail
       sometimes fails to deactivate CDR.
   ASTERISK-28527: ChanIsAvail() creates a CDR if unanswered=yes is set in
   cdr.conf
   Reported by: Frederic LE FOLL
     * [2d0eee5418] Frederic LE FOLL -- ChanIsAvail() generates a CDR when
       unanswered=yes in cdr.conf.

    Category: Applications/app_confbridge

   ASTERISK-28841: app_confbridge: Add support for disabling text messaging
   for a user
   Reported by: Joshua C. Colp
     * [6cfc6ff53c] Joshua C. Colp -- confbridge: Add support for disabling
       text messaging.
   ASTERISK-28790: Crash during conference call using confbridge and video
   Reported by: Pascal Cadotte Michaud
     * [96e8d411e1] Joshua C. Colp -- res_rtp_asterisk: Ensure sufficient
       space for worst case NACK.

    Category: Applications/app_fax

   ASTERISK-28848: app_fax: Compile.
   Reported by: Alexander Traud
     * [26b8c99963] Alexander Traud -- app_fax: SpanDSP headers do not use
       ast_malloc; ignore that.

    Category: Applications/app_meetme

   ASTERISK-28604: app_meetme, chan_ooh323 and cdr_mysql don't build on
   17.0.0
   Reported by: George Joseph
     * [ed394ce5b1] Joshua C. Colp -- configure: Add check for MySQL client
       bool and my_bool type usage.
     * [a47cb71bb1] George Joseph -- Build: Fix compile issues with seldom
       used modules

    Category: Applications/app_mixmonitor

   ASTERISK-28780: app_mixmonitor: Memory leak due to race condition between
   AMI MixMonitor and hangup
   Reported by: Joshua C. Colp
     * [98d10d0a16] Joshua C. Colp -- audiohook: Don't allow audiohooks to
       attach to hung up channels.

    Category: Applications/app_osplookup

   ASTERISK-28804: [patch] app_osplookup.c: Avoid a format truncation.
   Reported by: Alexander Traud
     * [527e4f6542] Alexander Traud -- app_osplookup: Avoid a format
       truncation.

    Category: Applications/app_queue

   ASTERISK-25665: Duplicate logging in queue log for EXITEMPTY events
   Reported by: Ove Aursand
     * [c83e4821e5] Kfir Itzhak -- app_queue: Fix leave-empty not recording a
       call as abandoned
   ASTERISK-29043: app_queue: Leave empty sometimes not recorded as abandoned
   Reported by: Kfir Itzhak
     * [c83e4821e5] Kfir Itzhak -- app_queue: Fix leave-empty not recording a
       call as abandoned
   ASTERISK-29034: Lastpause of realtime members is reseting
   Reported by: Evandro CÃ©sar Arruda
     * [36dd15c659] Evandro CÃ©sar Arruda -- app_queue: Member lastpause time
       reseting
   ASTERISK-28951: Inconsistent behaviour queues.conf when there is (not) a
   [general] section
   Reported by: Walter Doekes
     * [312c23b0e1] Walter Doekes -- app_queue: (Breaking change)
       shared_lastcall and autofill default to no
   ASTERISK-28950: Stale code in app_queue to check untouched channel
   Reported by: Walter Doekes
     * [db012e8cc6] Walter Doekes -- app_queue: Remove stale code in
       try_calling
   ASTERISK-28644: Stale comment in app_queue about ring_entry exception
   Reported by: Walter Doekes
     * [db012e8cc6] Walter Doekes -- app_queue: Remove stale code in
       try_calling
     * [0e750cdd10] Walter Doekes -- app_queue: Fix old confusing comment
       about when the members are called
   ASTERISK-28952: Queue wrapuptime sometimes not respected (based on stale
   lastcall time)
   Reported by: Walter Doekes
     * [0fb6738314] Walter Doekes -- app_queue: Read latest wrapuptime
       instead of (possibly stale) copy
   ASTERISK-28829: app_queue: leaking stasis subscription when Redirecting
   call
   Reported by: lvl
     * [f217fcdc62] Nathan Bruning -- app_queue: track masquerades in
       app_queue to avoid leaked stasis subscriptions
   ASTERISK-25844: app_queue: Ghost channels in "core show channels" output
   Reported by: Etienne Lessard
     * [f217fcdc62] Nathan Bruning -- app_queue: track masquerades in
       app_queue to avoid leaked stasis subscriptions
   ASTERISK-28349: Pause reason not reported in QueueMember AMI event
   Reported by: Niksa Baldun
     * [9522390a69] Sean Bright -- app_queue: Deprecate the
       QueueMemberPause.Reason field

    Category: Applications/app_record

   ASTERISK-28682: app_record: Lack of `beep` audio file causes application
   to return error and hangup
   Reported by: Corey Farrell
     * [2f8b20b949] Corey Farrell -- app_record: Do not hang up if beep audio
       is missing

    Category: Applications/app_system

   ASTERISK-28776: Non async-signal-safe syscalls used after fork before exec
   Reported by: nappsoft
     * [6b2d945174] Pirmin Walthert -- app.c: make sure that no
       non-async-signal-safe syscalls are used after

    Category: Applications/app_voicemail

   ASTERISK-27273: app_voicemail: When a voicemail is marked as "Urgent", it
   is not sent by email/processed by the mailcmd command
   Reported by: Leandro Dardini
     * [b575868000] Sean Bright -- app_voicemail: Process urgent messages
       with mailcmd
   ASTERISK-23739: [patch]Segfault forwarding voicemail with ODBC storage
   enabled and realtime voicemail_data is used
   Reported by: Stas Kobzar
     * [ba8ccb9132] Sean Bright -- app_voicemail: Prevent crash when saving
       message with realtime voicemail
   ASTERISK-27622: empty voicemail.conf required for ARA (realtime) voicemail
   to leave message
   Reported by: Jim Van Meggelen
     * [9be89d9913] Sean Bright -- app_voicemail: Set globals to default
       values when voicemail.conf missing

    Category: Applications/app_voicemail/IMAP

   ASTERISK-28505: app_voicemail/IMAP: segfault in leave_voicemail because
   not checking mailstream
   Reported by: Alexei Gradinari
     * [15624d9a7a] Alexei Gradinari -- app_voicemail/IMAP: check mailstream
       not NULL in leave_voicemail

    Category: Applications/app_voicemail/ODBC

   ASTERISK-23739: [patch]Segfault forwarding voicemail with ODBC storage
   enabled and realtime voicemail_data is used
   Reported by: Stas Kobzar
     * [ba8ccb9132] Sean Bright -- app_voicemail: Prevent crash when saving
       message with realtime voicemail

    Category: Bridges/bridge_builtin_features

   ASTERISK-28920: bridge show all causes crash
   Reported by: sungtae kim
     * [25ae412f75] sungtae kim -- bridge.c: Fixed null pointer exception

    Category: Bridges/bridge_native_rtp

   ASTERISK-28637: chan_sip+native_bridge_rtp: directmedia compatibility
   check failure when negociated ptime is not default ptime.
   Reported by: Frederic LE FOLL
     * [7624cbb155] Frederic LE FOLL -- chan_sip+native_bridge_rtp: no
       directmedia for ptime other than default ptime.

    Category: Bridges/bridge_softmix

   ASTERISK-28944: bridge_softmix: Transitioning a stream from inactive ->
   sendrecv/sendonly doesn't re-negotiation
   Reported by: Joshua C. Colp
     * [8ad06394c4] Joshua C. Colp -- bridge_softmix: Add additional old
       states for adding new source.
   ASTERISK-28898: bridge_softmix: Conference bridge not passing silent rtp
   packets
   Reported by: Jonathan Hunter
     * [e8c8d69d47] Joshua C. Colp -- bridge_softmix: Always remove audio
       from mixed frame.
   ASTERISK-28819: [patch] bridge_softmix_binaural: Show state in menuselect.
   Reported by: Alexander Traud
     * [7febd22304] Alexander Traud -- bridge_softmix_binaural: Show state in
       menuselect.
   ASTERISK-28618: bridge_softmix: hold not cleared when joining a softmix
   bridge
   Reported by: Kevin Harwell
     * [e77cb32583] Kevin Harwell -- bridge_softmix: clear hold when joining
       a softmix bridge

    Category: CDR/General

   ASTERISK-28677: CDR billsec is always 0 for transferred calls
   Reported by: Maciej Michno
     * [6818c3d1d2] George Joseph -- cdr.c: Set event time on party b when
       leaving a parking bridge
   ASTERISK-28636: app_chanisavail+cdr: ChanIsAvail sometimes fails to
   deactivate CDR.
   Reported by: Frederic LE FOLL
     * [a83625b366] Frederic LE FOLL -- app_chanisavail/cdr: ChanIsAvail
       sometimes fails to deactivate CDR.
   ASTERISK-28566: CDR backend unload problem during active call(s)
   Reported by: Marian Piater
     * [51850a79ef] Sean Bright -- cdr_mysql: Don't clean up on unload unless
       we can unregister from CDRs

    Category: CDR/cdr_pgsql

   ASTERISK-28571: cdr_pgsql: accesses obsolete (and finally removed) column
   Reported by: Christoph Moench-Tegeder
     * [52ade18420] Christoph Moench-Tegeder -- cdr_pgsql cel_pgsql
       res_config_pgsql: compatibility with PostgreSQL 12

    Category: Channels/chan_dahdi

   ASTERISK-28702: chan_dahdi: holding a channel via flash to dialtone times
   out after 0:16:40
   Reported by: Andrew Siplas
     * [5bd7281442] Andrew Siplas -- chan_dahdi: Change 999999 to INT_MAX to
       better reflect "no timeout"
   ASTERISK-28615: chan_dahdi: PRI span status may stay "Down, Active" after
   a short alarm
   Reported by: Frederic LE FOLL
     * [a68299f508] Frederic LE FOLL -- chan_dahdi: PRI span status may stay
       "Down, Active" after a short alarm
   ASTERISK-28536: Asterisk release candidates fail to build on FreeBSD
   Reported by: Guido Falsi
     * [4072e219f7] Guido Falsi -- chan_dahdi: Fix build with clang/llvm
   ASTERISK-28525: chan_dahdi: set CHANNEL(hangupsource) when a PRI channel
   hangs up
   Reported by: Frederic LE FOLL
     * [41b67f150e] Frederic LE FOLL -- chan_dahdi: set CHANNEL(hangupsource)
       when a PRI channel hangs up

    Category: Channels/chan_local

   ASTERISK-28938: core_unreal / core_local: Add support for multistream and
   re-negotiation
   Reported by: Joshua C. Colp
     * [de2813cf23] Joshua C. Colp -- core_unreal / core_local: Add
       multistream and re-negotiation.
   ASTERISK-25844: app_queue: Ghost channels in "core show channels" output
   Reported by: Etienne Lessard
     * [f217fcdc62] Nathan Bruning -- app_queue: track masquerades in
       app_queue to avoid leaked stasis subscriptions

    Category: Channels/chan_pjsip

   ASTERISK-28878: chan_pjsip: PJSIP_MEDIA_OFFER Broken asterisk 16
   Reported by: Joseph Ades
     * [31fbfc5e95] Kevin Harwell -- chan_pjsip: disallow
       PJSIP_SEND_SESSION_REFRESH pre-answer execution
     * [4eba6b9eb2] Kevin Harwell -- PJSIP_MEDIA_OFFER: override
       configuration on refresh
   ASTERISK-28886: chan_pjsip: PJSIP_SC_NULL does not exist in pjproject
   2.7.2
   Reported by: Jared Smith
     * [8b925fbda3] Kevin Harwell -- chan_pjsip: don't use PJSIP_SC_NULL as
       it only exists pjproject 2.8+
   ASTERISK-28923: T.38 Segfaults in chan_pjsip_queryoption
   Reported by: Yury Kirsanov
     * [41f3a7da4d] George Joseph -- res_fax: Don't start a gateway if either
       channel is hung up
   ASTERISK-28835: IPv6 addresses in SDP incorrectly formatted
   Reported by: Daniel Heckl
     * [9f117ac9ef] Daniel Heckl -- res_pjsip: Fixed format of IPv6 addresses
       for external media addresses
   ASTERISK-28817: chan_pjsip: constant DTMF tone if RTP is not setup yet
   Reported by: Kevin Harwell
     * [fa3c8f94e0] Kevin Harwell -- chan_pjsip: digit_begin - constant DTMF
       tone if RTP is not setup yet
   ASTERISK-28774: chan_pjsip's rtptimeout is erroneously triggered during
   direct-media (native_rtp) bridge
   Reported by: Michael Neuhauser
     * [5562fb2ea0] Michael Neuhauser -- chan_psip, res_pjsip_sdp_rtp: ignore
       rtptimeout if direct-media is active
   ASTERISK-28759: A non negotiated rtp frame causes call disconnection when
   there is a SSRC change
   Reported by: Paulo Vicentini
     * [ed2a7e3eaf] Paulo Vicentini -- chan_pjsip: Check audio frame when
       remote SSRC changes.
   ASTERISK-28766: PJSIP blind transfer not completed after using
   Proceeding()
   Reported by: lvl
     * [d1a2ff0aaf] lvl -- res_pjsip_refer: ensure refer progress is still
       sent after Proceeding()
   ASTERISK-28755: SIP/Stasis: SIP headers not transmitted in the "variables"
   field
   Reported by: Jean Aunis - Prescom
     * [a715cf5aaa] Kevin Harwell -- message & stasis/messaging: make text
       message variables work in ARI
   ASTERISK-28492: pjsip reload not reloading wizard endpoint/pickup_group
   endpoint/call_group
   Reported by: Jean-Denis Girard
     * [b40dd11afe] Sean Bright -- res_pjsip_config_wizard: Fix change
       detection for wizard settings
   ASTERISK-28502: chan_pjsip incorrectly re-writes REGISTER 200 Response
   Contact
   Reported by: Ross Beer
     * [cbc1136704] George Joseph -- res_pjsip_nat: Restore original contact
       for REGISTER responses
   ASTERISK-28578: race condition on pjsip channelstats command
   Reported by: Salah Ahmed
     * [ddb0091da5] Salah Ahmed -- Crash during "pjsip show channelstats"
       execution
   ASTERISK-28561: Asterisk Deadlocks
   Reported by: Aheliotech
     * [bf6f27388d] Joshua Colp -- pbx: deadlock when outgoing dialed channel
       hangs up too quickly
   ASTERISK-28086: chan_pjsip: Crash when initiating PlayDTMF over AMI
   Reported by: Jeremiah Gadd
     * [c03f50c1c8] lvl -- chan_pjsip: Prevent segfault when running PlayDTMF
       on hungup channel
   ASTERISK-28538: chan_pjsip: Deadlock on fax detection
   Reported by: Joshua C. Colp
     * [c358da472e] Joshua Colp -- chan_pjsip: Relock correct channel during
       "fax" redirect.

    Category: Channels/chan_sip/General

   ASTERISK-29011: chan_sip: ToHost property not cleared on reload
   Reported by: Dennis
     * [9058d9e591] Dennis Buteyn -- chan_sip: Clear ToHost property on peer
       when changing to dynamic host
   ASTERISK-28957: chan_sip: chan_sip does not process 400 response to an
   INVITE.
   Reported by: Frederic LE FOLL
     * [a423f935c9] Frederic LE FOLL -- chan_sip: chan_sip does not process
       400 response to an INVITE.
   ASTERISK-28898: bridge_softmix: Conference bridge not passing silent rtp
   packets
   Reported by: Jonathan Hunter
     * [e8c8d69d47] Joshua C. Colp -- bridge_softmix: Always remove audio
       from mixed frame.
   ASTERISK-28651: chan_sip logs errors on tx to non-existent TCP connections
   Reported by: Jaco Kroon
     * [365d007eb6] Jaco Kroon -- chan_sip: in case of tcp/tls, be less
       annoying about tx errors.
   ASTERISK-28647: chan_sip: RTP frames not transmitted after emitting a COLP
   Reported by: Jean Aunis - Prescom
     * [9c9296c635] Jean Aunis -- chan_sip: voice frames are no longer
       transmitted after emitting a COLP
   ASTERISK-28637: chan_sip+native_bridge_rtp: directmedia compatibility
   check failure when negociated ptime is not default ptime.
   Reported by: Frederic LE FOLL
     * [7624cbb155] Frederic LE FOLL -- chan_sip+native_bridge_rtp: no
       directmedia for ptime other than default ptime.

    Category: Channels/chan_sip/Interoperability

   ASTERISK-28718: chan_sip: Returns 403 if RTP ports are depleted, should
   return 503
   Reported by: Walter Doekes
     * [43620cbf6c] Walter Doekes -- chan_sip: Return 503 if we're out of RTP
       ports
   ASTERISK-28686: chan_sip strictrtp=yes fails when media source is changed:
   no audio
   Reported by: Walter Doekes
     * [711a3fed56] Walter Doekes -- chan_sip: Always process updated SDP on
       media source change

    Category: Channels/chan_sip/Messaging

   ASTERISK-28693: chan_sip: SIP MESSAGE beginning with a whitespace appears
   empty in the dialplan
   Reported by: Frank Matano
     * [f309b86e36] Sean Bright -- chan_sip.c: Stop handling continuation
       lines after reading headers

    Category: Channels/chan_sip/TCP-TLS

   ASTERISK-28372: Asterisk REPLY Wrong Contact header port (TCP)
   Reported by: Anton Satskiy
     * [52f07176b6] Alexander Traud -- chan_sip: externhost/externaddr with
       non-default TCP/TLS ports.
   ASTERISK-24428: Document that Asterisk will use the default SIP ports
   (5060 for TCP, 5061 for TLS) if the extern option variants aren't used
   Reported by: sstream
     * [52f07176b6] Alexander Traud -- chan_sip: externhost/externaddr with
       non-default TCP/TLS ports.
   ASTERISK-27195: chan_sip: only sets ToS bits on UDP socket, ignoring TCP
   and TLS sockets
   Reported by: Joshua Roys
     * [4d0ab620be] Alexander Traud -- chan_sip: DiffServ/ToS not only on UDP
       but also on TCP and TLS sockets.

    Category: Channels/chan_sip/Transfers

   ASTERISK-28677: CDR billsec is always 0 for transferred calls
   Reported by: Maciej Michno
     * [6818c3d1d2] George Joseph -- cdr.c: Set event time on party b when
       leaving a parking bridge

    Category: Channels/chan_unistim

   ASTERISK-28803: [patch] chan_unistim: Avoid tautological warnings with
   clang.
   Reported by: Alexander Traud
     * [b38f664250] Alexander Traud -- chan_unistim: Avoid tautological
       warnings with clang.
   ASTERISK-25592: chan_unistim: Clang Warning: variable sized type not at
   end of a struct
   Reported by: Alexander Traud
     * [3863ab9af9] Igor Goncharovsky -- chan_unistim: Fix clang warning:
       variable sized type not at end of a struct

    Category: Codecs/codec_resample

   ASTERISK-28511: codec_resample: Bad sound quality when up sampling from
   SLIN16 to SLIN32
   Reported by: Ruddy G
     * [e4289b9e56] Sean Bright -- codec_resample: Ensure OUTSIDE_SPEEX is
       defined when necessary
     * [b096389660] Sean Bright -- codec_resample: Upgrade speex_resample to
       fix up-sampling bug

    Category: Codecs/codec_silk

   ASTERISK-28706: silk 24hHz doesn't show up in 'core show translation'
   output
   Reported by: Sean Bright
     * [dfad69ce7c] Sean Bright -- translate.c: Fix silk 24kHz truncation in
       'core show translation'

    Category: Configs/Basic-PBX

   ASTERISK-28667: Asterisk ignores parsing of config files if a Byte order
   mark is present
   Reported by: Robin Leffmann
     * [40b5cf8f52] Sean Bright -- config.c: Skip UTF-8 BOMs if present when
       reading config files

    Category: Configs/Samples

   ASTERISK-29123: logger.conf.sample missing comment mark on line 115
   Reported by: Andrew Siplas
     * [79d749d2b5] Andrew Siplas -- logger.conf.sample: add missing comment
       mark

    Category: Contrib/General

   ASTERISK-27243: contrib: valgrind.supp doesn't suppress what it's supposed
   to due to invalid syntax
   Reported by: Richard Kenner
     * [095c204fe0] snuffy -- contrib/valgrind: Fix use of frame-level
       suppression
   ASTERISK-28664: "trustrpid" is misspelled in sip_to_pjsip.py
   Reported by: Pascal Cadotte Michaud
     * [e494d5fd76] Pascal Cadotte Michaud -- sip_to_pjsip.py: Fix trustrpid
       typo

    Category: Core/ACL

   ASTERISK-28978: acl: named_acl rule misconfiguration results in segfault
   on reading rule from realtime
   Reported by: Andrew Yager
     * [7a43bedd72] Sean Bright -- acl.c: Coerce a NULL pointer into the
       empty string

    Category: Core/Bridging

   ASTERISK-28841: app_confbridge: Add support for disabling text messaging
   for a user
   Reported by: Joshua C. Colp
     * [6cfc6ff53c] Joshua C. Colp -- confbridge: Add support for disabling
       text messaging.

    Category: Core/BuildSystem

   ASTERISK-28929: pjproject_bundled: Honor --without-pjproject.
   Reported by: Alexander Traud
     * [0a4dffe6f8] Alexander Traud -- pjproject_bundled: Honor
       --without-pjproject.
   ASTERISK-28837: pjproject_bundled: Honor --without-pjproject.
   Reported by: Alexander Traud
     * [966acc6251] Alexander Traud -- pjproject_bundled: Honor
       --without-pjproject.
   ASTERISK-28824: BuildSystem: Search for Python/C API when possibly needed
   only.
   Reported by: Alexander Traud
     * [610e058189] Alexander Traud -- BuildSystem: Search for Python/C API
       when possibly needed only.
   ASTERISK-27717: [patch] BuildSystem: In NetBSD, the Python Programming
   Language is python-2.7.
   Reported by: Alexander Traud
     * [610e058189] Alexander Traud -- BuildSystem: Search for Python/C API
       when possibly needed only.
   ASTERISK-28816: [patch] BuildSystem: Remove doc/tex and doc/pdf leftovers.
   Reported by: Alexander Traud
     * [7cdb493a1e] Alexander Traud -- BuildSystem: Remove doc/tex and
       doc/pdf leftovers.
   ASTERISK-28818: [patch] BuildSystem: Allow space in path.
   Reported by: Alexander Traud
     * [7a04947abd] Alexander Traud -- BuildSystem: Allow space in path.
   ASTERISK-28487: compile menuselect on gentoo
   Reported by: Kilburn
     * [e40f248fac] Sean Bright -- menuselect: Fix curses build on Gentoo
       Linux

    Category: Core/Channels

   ASTERISK-25844: app_queue: Ghost channels in "core show channels" output
   Reported by: Etienne Lessard
     * [f217fcdc62] Nathan Bruning -- app_queue: track masquerades in
       app_queue to avoid leaked stasis subscriptions
   ASTERISK-28795: channel: write to a stream on multi-frame writes
   Reported by: Kevin Harwell
     * [3c345ec56d] Kevin Harwell -- channel: write to a stream on
       multi-frame writes
   ASTERISK-28499: translate: Crash when frame does not have a "src" field
   set
   Reported by: Gregory Massel
     * [1e9714a050] Joshua Colp -- AST-2019-005 - translate: Don't assume all
       frames will have a src.

    Category: Core/Configuration

   ASTERISK-28955: "setvar" doesn't work properly in dahdi-channels.conf
   Reported by: Marin Odrljin
     * [d88e230037] Guido Falsi -- chan_dadhi: Fix setvar in dahdi channels
   ASTERISK-23756: setvar directive when used in template and a child of said
   template, results in duplicate variable names
   Reported by: Michael Goryainov
     * [32ce6e9a06] Michael Goryainov -- channels: Allow updating variable
       value

    Category: Core/General

   ASTERISK-28797: [patch] tcptls: Fix notice when TLS is enabled but not
   configured.
   Reported by: Alexander Traud
     * [f9ea75d117] Alexander Traud -- tcptls: Fix notice when TLS is enabled
       but not supported.
   ASTERISK-28839: Sporadic crashes with Segmentation fault
   Reported by: Joeran Vinzens
     * [e56f4de7e6] Joshua C. Colp -- fax: Fix crashes in PJSIP
       re-negotiation scenarios.
   ASTERISK-28780: app_mixmonitor: Memory leak due to race condition between
   AMI MixMonitor and hangup
   Reported by: Joshua C. Colp
     * [98d10d0a16] Joshua C. Colp -- audiohook: Don't allow audiohooks to
       attach to hung up channels.
   ASTERISK-28498: cel / cdr: Event times may be incorrect
   Reported by: Joshua C. Colp
     * [261646c1c4] Joshua Colp -- cdr / cel: Use event time at event
       creation instead of processing.

    Category: Core/RTP

   ASTERISK-28480: json integer overflow in ssrc and timestamp
   Reported by: Salah Ahmed
     * [3656c42cb0] Kevin Harwell -- various modules: json integer overflow

    Category: Core/Stasis

   ASTERISK-28755: SIP/Stasis: SIP headers not transmitted in the "variables"
   field
   Reported by: Jean Aunis - Prescom
     * [a715cf5aaa] Kevin Harwell -- message & stasis/messaging: make text
       message variables work in ARI
   ASTERISK-28553: stasis.c: Crash during unload
   Reported by: Kevin Harwell
     * [729b286d59] Joshua Colp -- stasis: Pass bumped topic_all reference to
       proxy_dtor.

    Category: Core/Streams

   ASTERISK-28870: streams: One memory leak and one issue cloning streams
   Reported by: George Joseph
     * [7fbfbe7da0] George Joseph -- streams: Fix one memory leak and one
       formats ref issue
   ASTERISK-28846: stream: Enforce formats immutability
   Reported by: Joshua C. Colp
     * [1c5e68580a] Joshua C. Colp -- stream: Enforce formats immutability
       and ensure formats exist.
   ASTERISK-28625: Playback of local files impacted by large media cache
   Reported by: Kevin Reeves
     * [c626ccec12] Kevin Reeves -- main/file.c: Limit media cache usage to
       remote files.

    Category: Core/UDPTL

   ASTERISK-28483: packet lost on UDPTL wrap around
   Reported by: Torrey Searle
     * [084901d548] Torrey Searle -- main/udptl.c: correctly handle udptl
       sequence wrap around

    Category: Documentation

   ASTERISK-28816: [patch] BuildSystem: Remove doc/tex and doc/pdf leftovers.
   Reported by: Alexander Traud
     * [7cdb493a1e] Alexander Traud -- BuildSystem: Remove doc/tex and
       doc/pdf leftovers.
   ASTERISK-24484: Update documentation for statsd module - usage
   requirements unclear
   Reported by: Dan Jenkins
     * [c376e9f8a8] Sean Bright -- res_statsd: Document that res_statsd does
       nothing on its own
   ASTERISK-25429: res_pjsip_endpoint_identifier_ip: Document support for
   hostnames
   Reported by: Joshua C. Colp
     * [29d867ed67] Sean Bright -- res_pjsip_endpoint_identifier_ip: Document
       support for hostnames
   ASTERISK-28507: Wiki docs missing for MessageWaiting
   Reported by: David M. Lee
     * [d5f3ec92d0] George Joseph -- CI: Update buildAsterisk.sh to do a
       "make full"

    Category: Functions/General

   ASTERISK-28626: Missing arguments in PJSIP_CONTACT function documentation
   Reported by: Pascal Cadotte Michaud
     * [bf4dd3d837] Pascal Cadotte Michaud -- PJSIP_CONTACT: add missing
       argument documentation
     * [7e3015d779] Pascal Cadotte Michaud -- PJSIP_CONTACT: add missing
       argument documentation
   ASTERISK-26481: FILE function grabs garbage along with read data when
   target line has no newline
   Reported by: Jonathan Harris
     * [bf7c808604] Sean Bright -- func_env: Prevent FILE() from reading
       garbage at end-of-file

    Category: Functions/func_aes

   ASTERISK-28788: func_aes: incorrectly printing error 'declined to load'
   Reported by: Alexander Traud
     * [cd8cbf7384] Alexander Traud -- func_aes: Avoid incorrect error
       message on load.

    Category: Functions/func_channel

   ASTERISK-28796: func_channel: cannot read fields exten, context,
   userfield, channame from dialplan
   Reported by: SÃ©bastien Duthil
     * [d40e343710] Sebastien Duthil -- func_channel: allow reading 4 fields
       from dialplan

    Category: Functions/func_enum

   ASTERISK-26711: func_enum: ENUM code wrong case
   Reported by: Vitold
     * [517224ce85] Sean Bright -- enum.c: Add support for regular expression
       flag in NAPTR record
   ASTERISK-19460: [patch] Function TXTCIDNAME never actually makes DNS calls
   and always returns an empty string
   Reported by: George Joseph
     * [ab63f0cd0f] Sean Bright -- enum.c: Make ast_get_txt() actually do
       something.

    Category: Functions/func_odbc

   ASTERISK-20325: Comments in configs/func_odbc.conf.sample are not
   consistent with examples. Missing examples.
   Reported by: Olivier Krief
     * [c4e0983742] Sean Bright -- func_odbc.conf.sample: Clarify sample
       documentation
   ASTERISK-28497: func_odbc: truncating Unicode string on readsql
   Reported by: Boris P. Korzun
     * [8979921da9] Boris P. Korzun -- func_odbc: acf_odbc_read() and
       cli_odbc_read() unicode support

    Category: Functions/func_version

   ASTERISK-29021: [patch] Fix VERSION(ASTERISK_VERSION_NUM) on certified
   versions
   Reported by: cmaj
     * [543f936147] cmaj -- Makefile: Fix certified version numbers

    Category: General

   ASTERISK-28930: ./configure --without-ssl build failure
   Reported by: Jaco Kroon
     * [9b5042433b] Joshua C. Colp -- menuselect: Resolve infinite loop in
       dependency scenario.
   ASTERISK-28838: AST_MODULE_INFO requires, MODULEINFO does not mention
   Reported by: Alexander Traud
     * [abf4d74384] Alexander Traud -- cdr_odbc: Sync load- and build-time
       deps.
     * [191f136260] Alexander Traud -- res_pjsip_refer: Add build-time
       dependency.
     * [5c2b8fdeca] Alexander Traud -- app_getcpeid: Add build-time
       dependency.
     * [008f46bf1e] Alexander Traud -- res_pjsip: Sync load- and build-time
       deps.
     * [e2affa3b0a] Alexander Traud -- curl: Add build-time dependency.
     * [f1135b453b] Alexander Traud -- res_pjsip: Add build-time dependency.
   ASTERISK-28609: Memory Leak in res_rtp_asterisk.c
   Reported by: Ted G
     * [39c920ac78] George Joseph -- res_rtp_asterisk: Add frame list
       cleanups to ast_rtp_read
   ASTERISK-28590: utils.c throws repeated warnings;
   "pthread_attr_setstacksize: Invalid argument"
   Reported by: Speed Dial Dave
     * [a4222614c4] Sean Bright -- utils.h: Set lower bound for thread stack
       size to PTHREAD_STACK_MIN
   ASTERISK-28523: Asterisk 16.5.0 Memory leak
   Reported by: Cyril RamiÃ¨re
     * [a4caaef64c] Kevin Harwell -- res_sorcery_memory_cache: stale item
       update leak
   ASTERISK-28472: Asterisk occasionally passes a NULL as srtp->session to
   srtp_protect/unprotect causing SEGV
   Reported by: Jonas Swiatek
     * [b805e1237d] Kevin Harwell -- srtp: Fix possible race condition, and
       add NULL checks

    Category: PBX/General

   ASTERISK-29046: pbx: Deadlock when doing a reload, while simultaneously
   doing an ExtensionState on a pattern match hint that ends up adding an
   extension
   Reported by: Ramarajan
     * [6d50d152d8] Joshua C. Colp -- pbx: Fix hints deadlock between reload
       and ExtensionState.
   ASTERISK-28695: core: minmemfree watermark uses free RAM, not available
   RAM
   Reported by: Kevin Flyn
     * [50d02d6194] Sean Bright -- pbx.c: Include filesystem cache in free
       memory calculation
   ASTERISK-28605: chan_dahdi: Deadlock in Hangup Scenarios with concurrent
   command pri show span X
   Reported by: Dirk Wendland
     * [ee7d72eb72] George Joseph -- sig_pri: Fix deadlock caused by
       sig_pri_queue_hangup

    Category: PBX/pbx_config

   ASTERISK-28534: Segmentation fault when there is no priority for an
   extension
   Reported by: Timothy Vanderaerden
     * [702019fc80] Sean Bright -- pbx: Prevent Realtime switch crash on
       invalid priority

    Category: PBX/pbx_dundi

   ASTERISK-21205: [patch] dundi_read_result crash due to negative number
   Reported by: Jaco Kroon
     * [40e93b0240] Jaco Kroon -- dundi: fix NULL dereference.

    Category: Resources/res_ari

   ASTERISK-28948: ARI channel create doesn't referencing the channel_id
   parameter
   Reported by: sungtae kim
     * [bbe0f2230d] sungtae kim -- res_ari: Fix create channel request
       channelId parameter parsing
   ASTERISK-28679: stasis application is destroyed after its creation
   Reported by: Francois Blackburn
     * [4206830a52] Kevin Harwell -- res_stasis: trigger cleanup after update
   ASTERISK-28585: ari/resource_events: Crash in event session cleanup
   Reported by: Kevin Harwell
     * [360936ead5] Joshua Colp -- res_ari_events: Add module reference when
       a WebSocket is open.

    Category: Resources/res_ari_bridges

   ASTERISK-28898: bridge_softmix: Conference bridge not passing silent rtp
   packets
   Reported by: Jonathan Hunter
     * [e8c8d69d47] Joshua C. Colp -- bridge_softmix: Always remove audio
       from mixed frame.

    Category: Resources/res_ari_channels

   ASTERISK-28940: /channels/create doesn't get any parameters from the body
   Reported by: sungtae kim
     * [fa7c69f40f] sungtae kim -- res_ari: Fix create request body parameter
       parsing.
   ASTERISK-28847: ARI channels cuts the endpoint string over 80 characters
   Reported by: sungtae kim
     * [9ad3d2829c] sungtae kim -- res_ari_channels: Fixed endpoint 80
       characters limit

    Category: Resources/res_calendar_exchange

   ASTERISK-28572: Memory leaks in res_calendar_exchange and
   res_calendar_icalendar
   Reported by: Yoooooo Ha
     * [16e668c7dd] Sean Bright -- res_calendar: Resolve memory leak on
       calendar destruction

    Category: Resources/res_calendar_icalendar

   ASTERISK-28572: Memory leaks in res_calendar_exchange and
   res_calendar_icalendar
   Reported by: Yoooooo Ha
     * [16e668c7dd] Sean Bright -- res_calendar: Resolve memory leak on
       calendar destruction

    Category: Resources/res_corosync

   ASTERISK-28888: res_corosync: causes asterisk crash in huge distributed
   environment.
   Reported by: UniversitÃ  di Bologna - CESIA VoIP
     * [0c1c386634] UniversitÃ  di Bologna - CESIA VoIP -- res_corosync: Fix
       crash in huge distributed environment.

    Category: Resources/res_fax

   ASTERISK-28900: res_fax: Double frame free when gateway in use with
   off-nominal format usage
   Reported by: Gregory Massel
     * [d2500c6273] Joshua C. Colp -- res_fax: Don't consume frames given to
       fax gateway on write.
   ASTERISK-28660: res_fax: wrap Asterisk initiated negotiation with config
   option
   Reported by: Kevin Harwell
     * [b6f5607359] Kevin Harwell -- res_fax: wrap v21 detected Asterisk
       initiated negotiation with config option

    Category: Resources/res_http_websocket

   ASTERISK-28975: res_http_websocket: Text payload data doesn't necessary
   include trailing zero
   Reported by: Nickolay V. Shmyrev
     * [e4d24f5137] Nickolay Shmyrev -- res_http_websocket: Avoid reading
       past end of string
   ASTERISK-28562: SIP WSS message not processed until next frame arrives
   Reported by: Robert Sutton
     * [87110c1bdf] Sean Bright -- websocket: Consider pending SSL data when
       waiting for socket input

    Category: Resources/res_musiconhold

   ASTERISK-28927: Asterisk crash in music on hold
   Reported by: David Cunningham
     * [57554c2834] Sean Bright -- res_musiconhold.c: Prevent crash with
       realtime MoH
   ASTERISK-28892: res_musiconhold: Module res_musiconhold throws false
   warning
   Reported by: Nicholas John Koch
     * [fef97a9a72] Nicholas John Koch -- res_musiconhold: Added check for
       dot character in path of playlist entries to avoid warnings
   ASTERISK-28735: Realtime MoH Unknown format '' -- defaulting to SLIN
   Reported by: Ross Beer
     * [aeff1f2c53] Sean Bright -- res_musiconhold: Avoid spurious warning
       when 'format' is the empty string

    Category: Resources/res_parking

   ASTERISK-29042: res_parking: Parker UUID is no longer copied
   Reported by: Misha Vodsedalek
     * [4f0766dcda] Joshua C. Colp -- parking: Copy parker UUID as well.
   ASTERISK-28631: res_parking: Doesn't park when parkee and parker are the
   same
   Reported by: Ross Beer
     * [811ae88da4] Joshua Colp -- parking: Fall back to parker channel name
       even if it matches parkee.
   ASTERISK-28616: parking: Deadlock when multi call parking
   Reported by: Joshua C. Colp
     * [807a70b7ae] Joshua Colp -- parking: Fix case where we can't get the
       parker.
     * [e924c5107c] Joshua Colp -- parking: Use channel snapshot instead of
       channel.

    Category: Resources/res_pjsip

   ASTERISK-28995: res_pjsip_registrar: Expires on statically configured
   contacts is not correct
   Reported by: tootai
     * [99eafe5771] Joshua C. Colp -- res_pjsip_registrar: Don't specify an
       expiration for static contacts.
   ASTERISK-28965: res_pjsip: Apply outbound proxy to static contacts on AOR
   Reported by: Joshua C. Colp
     * [4f86118bd8] Joshua C. Colp -- res_pjsip: Apply AOR outbound proxy to
       static contacts.
   ASTERISK-28936: res_pjsip: crash when dialing non-sip uri
   Reported by: Walter Doekes
     * [e74dde5100] Walter Doekes -- pjsip: Prevent invalid memory access
       when attempting to contact a non-sip URI
   ASTERISK-28794: res_pjsip: Crash when escaping during URI printing
   Reported by: nappsoft
     * [9c2871edf4] Joshua C. Colp -- res_pjsip: Use correct pool for storing
       the contact_user value.
   ASTERISK-26780: res_pjsip: PJSIP Registration Fails when
   transport=transport-udp6
   Reported by: Peter Sokolov
     * [c8dec423d2] Peter Sokolov -- pjsip_resolver.c: Ensure AAAA dns
       requests are made.
   ASTERISK-28854: SIGSEGV when pjsip show history encounters IPV6 address
   Reported by: Roger James
     * [4a072c4890] Roger James -- res_pjsip_history.c: Fix to stop SIGSEGV
       when IPv6 addresses are encountered.
   ASTERISK-28056: res_pjsip: Incorrect endpoint status after endpoint
   synchronization for a specific AOR
   Reported by: Jason Hord
     * [d845464c76] Jason Hord -- res_pjsip: Don't set endpoint to
       unavailable in all cases.
   ASTERISK-28790: Crash during conference call using confbridge and video
   Reported by: Pascal Cadotte Michaud
     * [96e8d411e1] Joshua C. Colp -- res_rtp_asterisk: Ensure sufficient
       space for worst case NACK.
   ASTERISK-28743: Asterisk is crashing if the 200 OK with SDP
   Reported by: sungtae kim
     * [8147f43756] Sungtae Kim -- res_pjsip_session: Fixed wrong session
       termination
   ASTERISK-23407: Fix the FSF address in the headers of lots of pjproject
   files
   Reported by: Jared Smith
     * [0a7fe3097f] Jared Smith -- indications.conf.sample: Add indication
       tones for Indonesia
   ASTERISK-28139: RTP Stream Incorrect Payload Type Causes Asterisk To Drop
   Calls
   Reported by: Paul Brooks
     * [313189aae2] Sean Bright -- chan_pjsip: Ignore RTP that we haven't
       negotiated
   ASTERISK-28641: res_pjsip Segfaults when realtime configuration to an AOR
   points to a not existent AOR
   Reported by: Ross Beer
     * [b1be06df8d] Sean Bright -- res_pjsip_registrar.c: Prevent potential
       double free if AOR is not found
   ASTERISK-28544: Wrong contact representation in ipv6 mode
   Reported by: JÃ¸rgen H
     * [377d7bdab6] Sean Bright -- res_pjsip_transport_websocket: Don't put
       brackets around local_name if IPv6
   ASTERISK-28521: pjsip: Memory Leak
   Reported by: Mark
     * [cc83e76aa5] George Joseph -- pjproject_bundled: Revert pjproject 2.9
       commits causing leaks
   ASTERISK-28228: res_pjsip: pjsip show contacts prints double entries
   Reported by: Ian Jones
     * [86452c9fa4] Joshua Colp -- res_pjsip: Fix multiple of the same
       contact in "pjsip show contacts".

    Category: Resources/res_pjsip_acl

   ASTERISK-28697: res_pjsip: Named ACL does not update on reload if changed
   Reported by: Timothy Vanderaerden
     * [d6712790cd] Joshua C. Colp -- pjsip: Update ACLs on named ACL
       changes.

    Category: Resources/res_pjsip_diversion

   ASTERISK-29001: chan_pjsip does not process or forward 181 responses
   Reported by: Torrey Searle
     * [addd295cda] Torrey Searle -- res_pjsip_diversion: handle 181

    Category: Resources/res_pjsip_endpoint_identifier_ip

   ASTERISK-25429: res_pjsip_endpoint_identifier_ip: Document support for
   hostnames
   Reported by: Joshua C. Colp
     * [29d867ed67] Sean Bright -- res_pjsip_endpoint_identifier_ip: Document
       support for hostnames

    Category: Resources/res_pjsip_logger

   ASTERISK-28932: res_pjsip_logger writing too big packets
   Reported by: nappsoft
     * [e8c6e9ae5d] Pirmin Walthert -- res_pjsip_logger: use the correct
       pointer when logging tx_messages to pcap
   ASTERISK-28921: Wrong return value check for fwrite when writing to pcap
   file
   Reported by: nappsoft
     * [c16937cdbe] Pirmin Walthert -- res_pjsip_logger.c: correct the return
       value checks when writing to pcap

    Category: Resources/res_pjsip_messaging

   ASTERISK-26082: res_pjsip_messaging: MessageSend Content-Type can't be
   changed
   Reported by: Alex
     * [03d24ca4c1] Sean Bright -- res_pjsip_messaging: Allow Content-Type to
       be overridden
   ASTERISK-25421: PJSIP. MESSAGE_SEND_STATUS set to SUCCESS in spite of the
   error when sending
   Reported by: Dmitriy Serov
     * [b1ca2c5d71] Sean Bright -- res_pjsip_messaging: Ensure
       MESSAGE_SEND_STATUS is set properly

    Category: Resources/res_pjsip_mwi

   ASTERISK-28575: MWI Send Notify Crash on 16.6
   Reported by: Joshua Elson
     * [5dae803eea] Kevin Harwell -- res_pjsip_mwi: potential double unref,
       and potential unwanted double link
   ASTERISK-28552: res_pjsip_mwi: Frack during unload on unsolicited_mwi
   container
   Reported by: Kevin Harwell
     * [12dbeb69b0] Kevin Harwell -- res_pjsip_mwi: use an ao2_global object
       for mwi containers

    Category: Resources/res_pjsip_nat

   ASTERISK-28884: x-ast-orig-host not filtered out from request URI and To
   header
   Reported by: nappsoft
     * [1399f8b4fe] Pirmin Walthert -- res_pjsip_nat.c: remove
       x-ast-orig-host from request URI and To header

    Category: Resources/res_pjsip_notify

   ASTERISK-27775: res_pjsip_notify: Multiple Event headers can be present
   instead of just one
   Reported by: AvayaXAsterisk
     * [90af050fa4] Sean Bright -- res_pjsip_notify: Only allow a single
       Event header to be added to a NOTIFY

    Category: Resources/res_pjsip_outbound_registration

   ASTERISK-28746: res_pjsip_outbound_registration keeps retrying the first
   entry in a SRV record set
   Reported by: George Joseph
     * [78b01f41ae] George Joseph -- res_pjsip_outbound_registration: Fix SRV
       failover on timeout
   ASTERISK-28624: res_pjsip_outbound_registration: add SRV failover
   Reported by: Kevin Harwell
     * [d5d41409e2] Kevin Harwell -- res_pjsip_outbound_registration: add
       support for SRV failover
   ASTERISK-28521: pjsip: Memory Leak
   Reported by: Mark
     * [cc83e76aa5] George Joseph -- pjproject_bundled: Revert pjproject 2.9
       commits causing leaks

    Category: Resources/res_pjsip_path

   ASTERISK-28463: res_pjsip_path: Crash when invalid contact is configured
   Reported by: Juan Martin
     * [982a5025b3] Sean Bright -- res_pjsip_registrar: Validate Contact URI
       before adding to responses

    Category: Resources/res_pjsip_pubsub

   ASTERISK-28714: REGRESSION: Feature subscription_persistence_recreate
   (ASTERISK-27759) Causes Segfaults
   Reported by: Ross Beer
     * [a1f0c833ab] Joshua C. Colp -- res_pjsip_pubsub: Increment persistence
       data ref when recreating.
   ASTERISK-27759: res_pjsip_pubsub: Subscription persistence does not
   preserve XML version number
   Reported by: Bryan Nelson
     * [4e7adbd8f4] Joshua C. Colp -- res_pjsip_pubsub: Add ability to
       persist generator state information.

    Category: Resources/res_pjsip_registrar

   ASTERISK-28995: res_pjsip_registrar: Expires on statically configured
   contacts is not correct
   Reported by: tootai
     * [99eafe5771] Joshua C. Colp -- res_pjsip_registrar: Don't specify an
       expiration for static contacts.

    Category: Resources/res_pjsip_sdp_rtp

   ASTERISK-28784: res_pjsip_sdp_rtp: Only do hold/unhold on first audio
   stream
   Reported by: Joshua C. Colp
     * [34750d2068] Joshua C. Colp -- res_pjsip_sdp_rtp: Only do hold/unhold
       on default audio stream.
   ASTERISK-28774: chan_pjsip's rtptimeout is erroneously triggered during
   direct-media (native_rtp) bridge
   Reported by: Michael Neuhauser
     * [5562fb2ea0] Michael Neuhauser -- chan_psip, res_pjsip_sdp_rtp: ignore
       rtptimeout if direct-media is active
   ASTERISK-28754: ASTERISK-28738 Causes Audio Issue After Hold
   Reported by: Ross Beer
     * [77c9ba8e63] Torrey Searle -- res/res_pjsip_sdp_rtp: Fix MOH
       transitions
   ASTERISK-28738: Incorrect state machine used when MOH_PASSTHRU is used
   Reported by: Torrey Searle
     * [bf4340f0ec] Torrey Searle -- res_pjsip_sdp_rtp: implement hold state
       handling on moh_passthrough
   ASTERISK-28659: res_pjsip_sdp_rtp: Bundle includes non-existent media
   stream if codecs create additional streams and offer does not have them
   Reported by: nappsoft
     * [a603d7d324] Joshua C. Colp -- res_pjsip_session: Set stream state on
       created streams for incoming SDP.

    Category: Resources/res_pjsip_session

   ASTERISK-29109: res_pjsip_session: Asterisk 18 does not progress calls due
   to codec negotiation after upgrading from Asterisk 16
   Reported by: Ross Beer
     * [5cc4a391b3] Joshua C. Colp -- res_pjsip: Adjust outgoing offer call
       pref.
   ASTERISK-29033: res_pjsip_session: Aggressively terminates session on
   failed re-INVITE
   Reported by: Joshua C. Colp
     * [3c074038fe] Joshua C. Colp -- res_pjsip_session: Don't aggressively
       terminate on failed re-INVITE.
   ASTERISK-28953: res_pjsip_session: Preserve stream label
   Reported by: Joshua C. Colp
     * [ee8ea9275f] Joshua C. Colp -- res_pjsip_session: Preserve label on
       incoming re-INVITE.
   ASTERISK-28871: res_pjsip_session: Unnecessary re-Invite on call answer
   Reported by: Alexei Gradinari
     * [afa2c9a868] Joshua C. Colp -- bridge: Don't try to match audio
       formats.
   ASTERISK-28783: res_pjsip_session: Allow default non-audio streams to have
   reflected state
   Reported by: Joshua C. Colp
     * [9620ecbf80] Joshua C. Colp -- res_pjsip_session: Don't restrict
       non-audio default streams to sendrecv.
   ASTERISK-28730: res_pjsip_session: Fix out of order session refreshes
   Reported by: Joshua C. Colp
     * [ac155decae] Joshua C. Colp -- res_pjsip_session: Fix off-nominal
       session refreshes.
   ASTERISK-28659: res_pjsip_sdp_rtp: Bundle includes non-existent media
   stream if codecs create additional streams and offer does not have them
   Reported by: nappsoft
     * [a603d7d324] Joshua C. Colp -- res_pjsip_session: Set stream state on
       created streams for incoming SDP.
   ASTERISK-28445: res_pjsip_session: ast_json_vpack: Invalid UTF-8 string on
   hangup when TEST_FRAMEWORK enabled
   Reported by: Bernhard Schmidt
     * [6ee1f1f507] Sean Bright -- res_pjsip_session.c: Prevent
       use-after-free with TEST_FRAMEWORK enabled
   ASTERISK-28086: chan_pjsip: Crash when initiating PlayDTMF over AMI
   Reported by: Jeremiah Gadd
     * [c03f50c1c8] lvl -- chan_pjsip: Prevent segfault when running PlayDTMF
       on hungup channel

    Category: Resources/res_pjsip_t38

   ASTERISK-28621: Enforce T.38 error correction mode at 200 ok received
   Reported by: Salah Ahmed
     * [330ffa2bce] Salah Ahmed -- res_pjsip_t38: T.38 error correction mode
       selection at 200 ok received

    Category: Resources/res_realtime

   ASTERISK-21794: CLI command 'realtime update2' syntax failure when using
   according to usage help
   Reported by: Cedric BASSAGET
     * [094e87b0dc] Sean Bright -- res_realtime: Fix 'realtime update2'
       argument handling

    Category: Resources/res_rtp_asterisk

   ASTERISK-28974: res_rtp_asterisk: T.140 messages have appended RTP string
   to each message block.
   Reported by: Thomas Johnson
     * [5ec7099312] Sean Bright -- bridge_channel: Ensure text messages are
       zero terminated
   ASTERISK-28939: res_rtp_asterisk: Don't have send/receive buffers on
   non-WebRTC
   Reported by: Joshua C. Colp
     * [c84d962eae] Joshua C. Colp -- res_rtp_asterisk: Don't assume setting
       retrans props means to enable.
   ASTERISK-28904: RTP ICE leaks the memory
   Reported by: sungtae kim
     * [c8c94b6cf1] sungtae kim -- res_rtp_asterisk.c: Fixed memory leak
   ASTERISK-28852: Unprotected access to nochecksums variable, causes build
   failures
   Reported by: Guido Falsi
     * [e4366308e1] Guido Falsi -- res_rtp_asterisk: Protect access to
       nochecksums with #ifdef
   ASTERISK-28827: res_rtp_asterisk: Loop when receive buffer is flushed by a
   received packet that is also in receive buffer with NACK
   Reported by: nappsoft
     * [d50fd0acc0] Pirmin Walthert -- res_rtp_asterisk: Resolve loop when
       receive buffer is flushed
   ASTERISK-28826: res_rtp_asterisk: Duplicate seqnos being added to send
   buffer with NACK
   Reported by: nappsoft
     * [ca032d1e2e] Pirmin Walthert -- res_rtp_asterisk: Free payload when
       error on insertion to data buffer
   ASTERISK-28812: First DTMF is not get
   Reported by: Bernard Merindol
     * [7db03e12a7] Bernard Merindol -- res_rtp_asterisk.c:Â Check for first
       DTMF having timestamp set to 0
   ASTERISK-28809: [patch] res_rtp_asterisk: Avoid absolute value on unsigned
   subtraction.
   Reported by: Alexander Traud
     * [1ef1b1b0c2] Alexander Traud -- res_rtp_asterisk: Avoid absolute value
       on unsigned subtraction.
   ASTERISK-28773: Incorrect Sender SSRC in RTCP when p2p rtp bridge is
   active
   Reported by: Torrey Searle
     * [a1dba820cf] Torrey Searle -- res_rtp_asterisk: Send correct sender
       SSRC when p2p bridge in use
   ASTERISK-28769: DTLS Handshake Fails to Occur if ice_support is enabled
   but not used
   Reported by: Torrey Searle
     * [14ba1806f3] Torrey Searle -- res_pjsip_sdp_rtp: Don't wait for ICE if
       not negotiated
   ASTERISK-28759: A non negotiated rtp frame causes call disconnection when
   there is a SSRC change
   Reported by: Paulo Vicentini
     * [ed2a7e3eaf] Paulo Vicentini -- chan_pjsip: Check audio frame when
       remote SSRC changes.
   ASTERISK-28764: res_rtp_asterisk: Improve NACK support and seqno handling
   Reported by: Joshua C. Colp
     * [87fda066ea] Joshua C. Colp -- res_rtp_asterisk: Improve video
       performance in certain networks.
   ASTERISK-28716: ICE: pjnath shouldn't wait for ICE to complete before
   allowing sending
   Reported by: Benjamin Keith Ford
     * [168637cc0c] Ben Ford -- RTP/ICE: Send on first valid pair.
   ASTERISK-28742: res_rtp_asterisk: static for audio due to incomplete
   dtls/srtp setup
   Reported by: Kevin Harwell
     * [3865b3fd6a] Kevin Harwell -- res_rtp_asterisk: bad audio (static) due
       to incomplete dtls/srtp setup
   ASTERISK-28576: res_rtp_asterisk: ICE Completion Crash when sent packet
   length doesn't match
   Reported by: Joshua Elson
     * [02129ad4d0] Joshua Colp -- res_rtp_asterisk: Always return provided
       DTLS packet length.

    Category: Resources/res_sorcery_memory_cache

   ASTERISK-28942: res_sorcery_memory_cache: Individual object expiration
   behaves unexpectedly with full backend caching
   Reported by: Joshua C. Colp
     * [a143c3a7b7] Joshua C. Colp -- res_sorcery_memory_cache: Disallow
       per-object expire with full backend.

    Category: Resources/res_speech

   ASTERISK-29040: res_speech: Assertion on format
   Reported by: Nickolay V. Shmyrev
     * [0319e0b07f] Nickolay Shmyrev -- res_speech: Bump reference on format
       object

    Category: Resources/res_srtp

   ASTERISK-28903: res_srtp: Answered Crypto Suite might be wrong in
   SDP/SDES.
   Reported by: Alexander Traud
     * [4de0e50c32] Alexander Traud -- res_srtp: Set all possible flags while
       selecting the Crypto Suite.
   ASTERISK-22920: Crash while Forwarding from TLS extension with CHANNEL
   args secure_bridge_media and secure_bridge_signaling
   Reported by: Shlomi Gutman
     * [29070b61f7] Alexander Traud -- core_local: Local calls are always
       secure.

    Category: Resources/res_stasis

   ASTERISK-28987: BridgeCreated ARI event shows wrong video_mode info
   Reported by: sungtae kim
     * [2e32b56bdb] sungtae kim -- stasis_bridge.c: Fixed wrong video_mode
       shown
   ASTERISK-28423: ARI causes STASIS Deadlock
   Reported by: Ross Beer
     * [cce2b0da95] Kevin Harwell -- stasis/app: don't lock an app before a
       call to send
     * [990a91b44a] George Joseph -- stasis: Don't hold app_registry and
       session locks unnecessarily
   ASTERISK-28633: stasis bridge topic leak
   Reported by: Joeran Vinzens
     * [1c9ddad4db] George Joseph -- stasis.c: Use correct topic name in
       stasis_topic_pool_delete_topic

    Category: Resources/res_stasis_playback

   ASTERISK-28713: res_stasis_playback: Error building JSON
   Reported by: SÃ©bastien Duthil
     * [31dc904380] Sean Bright -- res_stasis_playback: Prevent media_index
       from going out of bounds

    Category: Resources/res_statsd

   ASTERISK-24484: Update documentation for statsd module - usage
   requirements unclear
   Reported by: Dan Jenkins
     * [c376e9f8a8] Sean Bright -- res_statsd: Document that res_statsd does
       nothing on its own

    Category: Tests/General

   ASTERISK-28808: [patch] test_stasis: Avoid always true warning with clang.
   Reported by: Alexander Traud
     * [bb28ed0d1b] Alexander Traud -- test_stasis: Avoid always true warning
       with clang.

    Category: Tests/testsuite

   ASTERISK-27717: [patch] BuildSystem: In NetBSD, the Python Programming
   Language is python-2.7.
   Reported by: Alexander Traud
     * [610e058189] Alexander Traud -- BuildSystem: Search for Python/C API
       when possibly needed only.
   ASTERISK-28789: test_utils: incorrectly printing error 'declined to load'
   Reported by: Alexander Traud
     * [fc07eeaba1] Alexander Traud -- test_utils: Avoid incorrect error
       message on load.

    Category: Utilities/General

   ASTERISK-28685: check_expr2: linking (when hardening) and cross-compiling
   troubles
   Reported by: Sebastian Kemper
     * [b7fbb9c41f] Sebastian Kemper -- check_expr2: fix
       cross-compile/hardening issues

    Category: pjproject/pjsip

   ASTERISK-28973: Malformed IP address in SDP of 2nd SIP timer triggered
   INVITE when NAT is active (UDP transport with external_media_address)
   Reported by: Michael Neuhauser
     * [6482ab5bea] Michael Neuhauser -- pjproject: clone sdp to protect
       against (nat) modifications
   ASTERISK-28929: pjproject_bundled: Honor --without-pjproject.
   Reported by: Alexander Traud
     * [0a4dffe6f8] Alexander Traud -- pjproject_bundled: Honor
       --without-pjproject.
   ASTERISK-28794: res_pjsip: Crash when escaping during URI printing
   Reported by: nappsoft
     * [9c2871edf4] Joshua C. Colp -- res_pjsip: Use correct pool for storing
       the contact_user value.
   ASTERISK-28859: pjsip: Increase maximum candidate count
   Reported by: Joshua C. Colp
     * [3078a00a6d] Joshua C. Colp -- pjsip: Increase maximum ICE candidate
       count.
   ASTERISK-28811: Crash occurs when fax session switches from T.38 to audio
   Reported by: Alexey Vasilyev
     * [e56f4de7e6] Joshua C. Colp -- fax: Fix crashes in PJSIP
       re-negotiation scenarios.
   ASTERISK-28837: pjproject_bundled: Honor --without-pjproject.
   Reported by: Alexander Traud
     * [966acc6251] Alexander Traud -- pjproject_bundled: Honor
       --without-pjproject.
   ASTERISK-28758: pjsip startup errors when using "with-ssl" configure
   option
   Reported by: Patrick Wakano
     * [3431949a52] Alexander Traud -- pjproject_bundled: Repair ./configure
       --with-ssl without ARG.
   ASTERISK-26955: pjsip: SIP Packets with Via "received=" Containing IPv6
   Address Delimited by "[]" Rejected
   Reported by: Peter Sokolov
     * [9d9bde76a9] Sean Bright -- pjproject_bundled: Allow brackets in via
       parameters
   ASTERISK-28574: pjproject fails to build on 16.6.0, works on 16.5
   Reported by: Niklas Larsson
     * [5d9f9f4871] George Joseph -- pjproject_bundled: Replace earlier
       reverts with official fixes.
   ASTERISK-28509: PJSIP cnonce generated on Linux contains 36 characters,
   NEC only supports up to 32 characters
   Reported by: Dan Cropp
     * [0844d6b127] Dan Cropp -- pjproject: Configurable setting for cnonce
       to include hyphens or not

  Improvement

    Category: Addons/chan_mobile

   ASTERISK-28832: chan_mobile creates PCMA streams that make some VoIP
   clients crash or not render received audio
   Reported by: Peter Turczak
     * [3303defd3f] Peter Turczak -- chan_mobile: Add smoother to make
       SIP/RTP endpoints happy.

    Category: Applications/NewFeature

   ASTERISK-28484: Add AudioSocket support
   Reported by: SeÃ¡n C. McCord
     * [163efbd724] SeÃ¡n C McCord -- feat: AudioSocket channel, application,
       and ARI support.

    Category: Applications/app_confbridge

   ASTERISK-28658: app_confbridge: Add support for setting maximum sample
   rate
   Reported by: Joshua C. Colp
     * [89b7144fbd] Joshua C. Colp -- confbridge: Add support for specifying
       maximum sample rate.

    Category: Applications/app_mixmonitor

   ASTERISK-24798: Documentation - Clarify That Format Is Set By File Name
   Extension In MixMonitor
   Reported by: xrobau
     * [ddfb60ac2c] Sean Bright -- app_mixmonitor: Set MIXMONITOR_FILENAME to
       correct value when wav49 is used

    Category: Applications/app_page

   ASTERISK-27946: dial (API): Storage of dialed target uses
   AST_MAX_EXTENSION when it shouldn't
   Reported by: Joshua Elson
     * [dbddb6725d] sungtae kim -- dial.c: Removed dial string 80 character
       limitation

    Category: Applications/app_voicemail

   ASTERISK-28567: Problem with ASTERISK-20207: Asterisk should clear out any
   .lock files in the voice mail directory on startup.
   Reported by: Michael
     * [7362647e2f] Sean Bright -- Revert "app_voicemail: Cleanup stale lock
       files on module load"

    Category: Applications/app_voicemail/ODBC

   ASTERISK-22192: [patch] Allow voicemail forwards with ODBC backend when
   format differs from attachfmt column
   Reported by: cmaj
     * [2d67dbfef5] cmaj -- app_voicemail.c: Support multiple file formats
       for forwarded messages.

    Category: Bridges/bridge_native_rtp

   ASTERISK-28733: stream: Add support for adding/removing streams during
   SFU/calls
   Reported by: Joshua C. Colp
     * [5a5be92b79] Joshua C. Colp -- bridging: Add better support for
       adding/removing streams.

    Category: Bridges/bridge_simple

   ASTERISK-28733: stream: Add support for adding/removing streams during
   SFU/calls
   Reported by: Joshua C. Colp
     * [5a5be92b79] Joshua C. Colp -- bridging: Add better support for
       adding/removing streams.

    Category: Bridges/bridge_softmix

   ASTERISK-28733: stream: Add support for adding/removing streams during
   SFU/calls
   Reported by: Joshua C. Colp
     * [5a5be92b79] Joshua C. Colp -- bridging: Add better support for
       adding/removing streams.
   ASTERISK-28658: app_confbridge: Add support for setting maximum sample
   rate
   Reported by: Joshua C. Colp
     * [89b7144fbd] Joshua C. Colp -- confbridge: Add support for specifying
       maximum sample rate.

    Category: Channels/NewFeature

   ASTERISK-28484: Add AudioSocket support
   Reported by: SeÃ¡n C. McCord
     * [163efbd724] SeÃ¡n C McCord -- feat: AudioSocket channel, application,
       and ARI support.

    Category: Channels/chan_pjsip

   ASTERISK-28638: Simplify dialplan for Dial, Page, and ChanIsAvail
   Reported by: cmaj
     * [fe3cce816c] Richard Mudgett -- app_chanisavail.c: Simplify dialplan
       using ChanIsAvail.
     * [abcb4ab321] Richard Mudgett -- app_dial.c: Simplify dialplan using
       Dial.
     * [d86a6ac5ce] Richard Mudgett -- app_page.c: Simplify dialplan using
       Page.

    Category: Contrib/General

   ASTERISK-28726: install_prereq script uses the interactive mode when
   installing aptitude
   Reported by: Sylvain Afchain
     * [0c02d0a450] Sylvain Afchain -- install_prereq: Install aptitude
       non-interactively

    Category: Core/CodecInterface

   ASTERISK-28512: Add pass-through support for H.265 (HEVC) codec
   Reported by: Florian Floimair
     * [c18983207d] Florian Floimair -- core: Add H.265/HEVC passthrough
       support

    Category: Core/DNS

   ASTERISK-28853: Missing include on FreeBSD
   Reported by: Guido Falsi
     * [97494d8984] Guido Falsi -- core/dns: Add system include required on
       FreeBSD

    Category: Core/Dial

   ASTERISK-27946: dial (API): Storage of dialed target uses
   AST_MAX_EXTENSION when it shouldn't
   Reported by: Joshua Elson
     * [dbddb6725d] sungtae kim -- dial.c: Removed dial string 80 character
       limitation

    Category: Core/HTTP

   ASTERISK-28750: TLS/SSL Key too small error
   Reported by: Martin Zeh
     * [7f2d56fc8c] Sean Bright -- tcptls.c: Log more informative OpenSSL
       errors
   ASTERISK-28710: Should be able to disable the /httpstatus URI in the
   built-in HTTP server
   Reported by: Sean Bright
     * [0dce6f746b] Sean Bright -- http: Add ability to disable /httpstatus
       URI

    Category: Core/ManagerInterface

   ASTERISK-28945: AMI SendText - add Content-Type parameter
   Reported by: Kevin Harwell
     * [cfed0ea033] Kevin Harwell -- manager - Add Content-Type parameter to
       the SendText action

    Category: Core/Streams

   ASTERISK-28733: stream: Add support for adding/removing streams during
   SFU/calls
   Reported by: Joshua C. Colp
     * [5a5be92b79] Joshua C. Colp -- bridging: Add better support for
       adding/removing streams.

    Category: Documentation

   ASTERISK-24798: Documentation - Clarify That Format Is Set By File Name
   Extension In MixMonitor
   Reported by: xrobau
     * [ddfb60ac2c] Sean Bright -- app_mixmonitor: Set MIXMONITOR_FILENAME to
       correct value when wav49 is used
   ASTERISK-28673: GET FULL VARIABLE documentation clarification
   Reported by: Jonathan Harris
     * [7d94bdde9d] Sean Bright -- res_agi: Improve GET FULL VARIABLE
       documentation
   ASTERISK-28586: Typo in README-SERIOUSLY.bestpractices.md
   Reported by: Sam Banks
     * [0dc7e29dd8] Sean Bright -- README-SERIOUSLY.bestpractices.md: Speling
       correetions.

    Category: Functions/func_volume

   ASTERISK-28813: func_volume: Allow decimal numbers as parameter to improve
   granularity
   Reported by: Jean Aunis - Prescom
     * [de66713fd5] Jean Aunis -- func_volume: Accept decimal number as
       argument

    Category: Resources/NewFeature

   ASTERISK-28484: Add AudioSocket support
   Reported by: SeÃ¡n C. McCord
     * [163efbd724] SeÃ¡n C McCord -- feat: AudioSocket channel, application,
       and ARI support.

    Category: Resources/res_ari_bridges

   ASTERISK-28629: [patch] Add an "inhibitCOLP" flag to the bridges REST API
   Reported by: Jean Aunis - Prescom
     * [034ac357ad] Jean Aunis -- ARI: Ability to inhibit COLP frames when
       adding channels to a bridge

    Category: Resources/res_ari_channels

   ASTERISK-28896: ari: Add support for specifying variables on channel
   create
   Reported by: Joshua C. Colp
     * [15cbff9d54] Joshua C. Colp -- ari: Allow variables to be set on
       channel create.

    Category: Resources/res_http_websocket

   ASTERISK-28958: Continue reading string when ping received by websocket
   Reported by: Nickolay V. Shmyrev
     * [7163efd934] Nickolay Shmyrev -- res_http_websocket.c: Continue
       reading after ping/pong
   ASTERISK-28949: res_http_websocket: Add masking to websocket client
   Reported by: Moises Silva
     * [9445dac43b] Moises Silva -- res_http_websocket: Add payload masking
       to the websocket client

    Category: Resources/res_pjsip

   ASTERISK-28959: res_pjsip: Added option for disable rport parameter set
   Reported by: sungtae kim
     * [81b5e4a73f] sungtae kim -- res_pjsip.c: Added disable_rport option
       for pjsip.conf
   ASTERISK-28777: Codec Negotiation: add outgoing_call_offer_prefs option
   Reported by: Kevin Harwell
     * [2ee455958e] George Joseph -- codec_negotiation: Implement
       outgoing_call_offer_pref
   ASTERISK-28756: Codec Negotiation: add incoming_call_offer_pref option
   Reported by: Kevin Harwell
     * [06dada3f01] Kevin Harwell -- codec negotiation: add
       incoming_call_offer_prefs option
   ASTERISK-28542: [patch] add the ability for asterisk to generate on-hold
   re-invites
   Reported by: Torrey Searle
     * [b43cdc7f1e] Torrey Searle -- channel/chan_pjsip: add dialplan
       function for music on hold

    Category: Resources/res_pjsip_logger

   ASTERISK-28895: res_pjsip_logger: Add tons'o'functionality
   Reported by: Joshua C. Colp
     * [a7aaee70c6] Joshua C. Colp -- res_pjsip_logger: Expand functionality
       to improve logging.

    Category: Resources/res_pjsip_outbound_registration

   ASTERISK-28602: res_pjsip_outbound_registration: Maximum retries reached
   Reported by: Daniel
     * [e73eba85c1] Joshua Colp -- res_pjsip_outbound_registration: Extend
       documentation for "max_retries".

    Category: Resources/res_pjsip_sdp_rtp

   ASTERISK-28777: Codec Negotiation: add outgoing_call_offer_prefs option
   Reported by: Kevin Harwell
     * [2ee455958e] George Joseph -- codec_negotiation: Implement
       outgoing_call_offer_pref
   ASTERISK-28756: Codec Negotiation: add incoming_call_offer_pref option
   Reported by: Kevin Harwell
     * [06dada3f01] Kevin Harwell -- codec negotiation: add
       incoming_call_offer_prefs option
   ASTERISK-28733: stream: Add support for adding/removing streams during
   SFU/calls
   Reported by: Joshua C. Colp
     * [5a5be92b79] Joshua C. Colp -- bridging: Add better support for
       adding/removing streams.

    Category: Resources/res_pjsip_session

   ASTERISK-28777: Codec Negotiation: add outgoing_call_offer_prefs option
   Reported by: Kevin Harwell
     * [2ee455958e] George Joseph -- codec_negotiation: Implement
       outgoing_call_offer_pref
   ASTERISK-28782: Add support for Content-Disposition header in multi-part
   INVITES
   Reported by: Torrey Searle
     * [e12244153a] Torrey Searle -- res_pjsip_session: implement processing
       of Content-Disposition
   ASTERISK-28787: res_pjsip_session: Decide more intelligently when to add
   video
   Reported by: Joshua C. Colp
     * [21e9051461] Joshua C. Colp -- res_pjsip_session: Apply intention
       behind requested formats.
   ASTERISK-28756: Codec Negotiation: add incoming_call_offer_pref option
   Reported by: Kevin Harwell
     * [06dada3f01] Kevin Harwell -- codec negotiation: add
       incoming_call_offer_prefs option

    Category: Third-Party/pjproject

   ASTERISK-28866: third-party/pjproject/configure.m4 contains bashisms
   Reported by: Guido Falsi
     * [c831f03273] Guido Falsi -- pjproject: Remove bashism from
       configure.m4 script

    Category: pjproject/pjsip

   ASTERISK-28899: Upgrade Asterisk to bundled pjproject 2.10
   Reported by: Kevin Harwell
     * [415b55af5a] Kevin Harwell -- pjproject: Upgrade bundled version to
       pjproject 2.10
   ASTERISK-28879: pjproject has race conditions in it's build system
   Reported by: Guido Falsi
     * [801d570f6e] Guido Falsi -- pjproject: Fix race condition when
       building with parallel make

     ----------------------------------------------------------------------

                                  Open Issues

                                 [Back to Top]

   This is a list of all open issues from the issue tracker that were
   referenced by changes that went into this release.

  Bug

    Category: Channels/chan_sip/TCP-TLS

   ASTERISK-28798: [patch] chan_sip: TCP/TLS client without server.
   Reported by: Alexander Traud
     * [da9554d925] Alexander Traud -- chan_sip: TCP/TLS client without
       server.

    Category: Core/Configuration

   ASTERISK-28719: Cannot remove defaultrule from queue using realtime queues
   Reported by: EDV O-TON
     * [eb9252ea27] Sean Bright -- res_config_odbc: Preserve empty strings
       returned by the database

     ----------------------------------------------------------------------

                      Commits Not Associated with an Issue

                                 [Back to Top]

   This is a list of all changes that went into this release that did not
   reference a JIRA issue.

   +------------------------------------------------------------------------+
   | Revision   | Author            | Summary                               |
   |------------+-------------------+---------------------------------------|
   | 6fd94258f8 | Asterisk          | Update for 18.0.0-rc2                 |
   |            | Development Team  |                                       |
   |------------+-------------------+---------------------------------------|
   | 704cb88799 | Asterisk          | Update for 18.0.0-rc1                 |
   |            | Development Team  |                                       |
   |------------+-------------------+---------------------------------------|
   | f589985840 | Asterisk          | Update CHANGES and UPGRADE.txt for    |
   |            | Development Team  | 18.0.0                                |
   |------------+-------------------+---------------------------------------|
   |            |                   | res_pjsip_session: Deferred re-INVITE |
   | 5a49757e40 | Patrick Verzele   | without SDP send a=sendrecv instead   |
   |            |                   | of a=sendonly                         |
   |------------+-------------------+---------------------------------------|
   | ec03909831 | Kevin Harwell     | conversions: Add string to signed     |
   |            |                   | integer conversion functions          |
   |------------+-------------------+---------------------------------------|
   | e32815dddb | George Joseph     | ast_coredumper: Fix issues with       |
   |            |                   | naming                                |
   |------------+-------------------+---------------------------------------|
   | 9ed1b1452d | Alexander Traud   | sip_nat_settings: Update script for   |
   |            |                   | latest Linux.                         |
   |------------+-------------------+---------------------------------------|
   | 217449a1e5 | Alexander Traud   | samples: Fix keep_alive_interval      |
   |            |                   | default in pjsip.conf.                |
   |------------+-------------------+---------------------------------------|
   | 5a8cacb93d | George Joseph     | logger.c: Added a new log formatter   |
   |            |                   | called "plain"                        |
   |------------+-------------------+---------------------------------------|
   |            |                   | res_musiconhold.c: Use                |
   | 5dfeeba623 | Sean Bright       | ast_file_read_dir to scan MoH         |
   |            |                   | directory                             |
   |------------+-------------------+---------------------------------------|
   | c4c72d55a2 | George Joseph     | scope_trace: Added debug messages and |
   |            |                   | added additional macros               |
   |------------+-------------------+---------------------------------------|
   | d26ab7f8f9 | George Joseph     | stream.c: Added 2 more debugging      |
   |            |                   | utils and added pos to stream string  |
   |------------+-------------------+---------------------------------------|
   | 6faf76308d | George Joseph     | ACN: Changes specific to the core     |
   |------------+-------------------+---------------------------------------|
   | a3d87f78ed | Joshua C. Colp    | res_pjsip: Fix codec preference       |
   |            |                   | defaults.                             |
   |------------+-------------------+---------------------------------------|
   |            |                   | vector.h: Fix implementation of       |
   | da8a617dc9 | Sean Bright       | AST_VECTOR_COMPACT() for empty        |
   |            |                   | vectors                               |
   |------------+-------------------+---------------------------------------|
   | 769a9611e7 | Ben Ford          | utils.c: NULL terminate               |
   |            |                   | ast_base64decode_string.              |
   |------------+-------------------+---------------------------------------|
   | 802aa97fa0 | George Joseph     | ACN: Configuration renaming for pjsip |
   |            |                   | endpoint                              |
   |------------+-------------------+---------------------------------------|
   | de23cb4002 | Ben Ford          | res_stir_shaken: Fix memory           |
   |            |                   | allocation error in curl.c            |
   |------------+-------------------+---------------------------------------|
   | 71446b68fc | George Joseph     | res_pjsip_session: Ensure reused      |
   |            |                   | streams have correct bundle group     |
   |------------+-------------------+---------------------------------------|
   | d9ae902f52 | Sean Bright       | utf8.c: Add UTF-8 validation and      |
   |            |                   | utility functions                     |
   |------------+-------------------+---------------------------------------|
   | 9022f35f09 | Sean Bright       | vector.h: Add AST_VECTOR_SORT()       |
   |------------+-------------------+---------------------------------------|
   | a678dafac8 | George Joseph     | CI: Force publishAsteriskDocs to use  |
   |            |                   | python2                               |
   |------------+-------------------+---------------------------------------|
   | af70bbb13a | Joshua C. Colp    | websocket / pjsip: Increase maximum   |
   |            |                   | packet size.                          |
   |------------+-------------------+---------------------------------------|
   | 8d15f72721 | Joshua C. Colp    | pjsip: Include timer patch to prevent |
   |            |                   | cancelling timer 0.                   |
   |------------+-------------------+---------------------------------------|
   | 3330764213 | George Joseph     | Update .gitreview defaultbranch to 18 |
   |------------+-------------------+---------------------------------------|
   | 1f5e6805bf | Asterisk          | Update CHANGES and UPGRADE.txt for    |
   |            | Development Team  | 18.0.0                                |
   |------------+-------------------+---------------------------------------|
   | 5fbed5af24 | Ben Ford          | res_stir_shaken: Add stir_shaken      |
   |            |                   | option and general improvements.      |
   |------------+-------------------+---------------------------------------|
   | e88beedd08 | George Joseph     | res_pjsip_session: Fix segv in        |
   |            |                   | session_on_rx_response                |
   |------------+-------------------+---------------------------------------|
   | 9bd1d686a1 | George Joseph     | ACN: Add tracing to existing code     |
   |------------+-------------------+---------------------------------------|
   | 2d22e34206 | George Joseph     | ACN: res_pjsip endpoint options       |
   |------------+-------------------+---------------------------------------|
   | d093e44b1e | George Joseph     | frame.c: Make debugging easier        |
   |------------+-------------------+---------------------------------------|
   | 955b7b4fdb | George Joseph     | Scope Trace: Make it easier to trace  |
   |            |                   | through synchronous tasks             |
   |------------+-------------------+---------------------------------------|
   | 8d1064eaaf | George Joseph     | Streams: Add features for Advanced    |
   |            |                   | Codec Negotiation                     |
   |------------+-------------------+---------------------------------------|
   | 7440fd0397 | George Joseph     | Scope Trace: Add some new tracing     |
   |            |                   | macros and an ast_str helper          |
   |------------+-------------------+---------------------------------------|
   | 1274117102 | Ben Ford          | res_stir_shaken: Add outbound INVITE  |
   |            |                   | support.                              |
   |------------+-------------------+---------------------------------------|
   |            |                   | res_pjsip: Include <pjsip_ua.h>       |
   | f1cfd54976 | Walter Doekes     | instead of internal                   |
   |            |                   | "pjsua-lib/pjsua.h"                   |
   |------------+-------------------+---------------------------------------|
   | b9f42a717e | George Joseph     | app_confbridge: Plug ref leak of      |
   |            |                   | bridge channel with send_events       |
   |------------+-------------------+---------------------------------------|
   | 3d1bf3c537 | Kevin Harwell     | Compiler fixes for gcc 10             |
   |------------+-------------------+---------------------------------------|
   | 559fa0e89c | Ben Ford          | cli.c: Fix compiler error.            |
   |------------+-------------------+---------------------------------------|
   | 3927f79cb5 | Ben Ford          | res_stir_shaken: Add inbound INVITE   |
   |            |                   | support.                              |
   |------------+-------------------+---------------------------------------|
   | 1fcb6b1b21 | Joshua C. Colp    | bridge_channel: Don't queue unmapped  |
   |            |                   | frames.                               |
   |------------+-------------------+---------------------------------------|
   | ca3c22c5f1 | George Joseph     | Scope Tracing: A new facility for     |
   |            |                   | tracing scope enter/exit              |
   |------------+-------------------+---------------------------------------|
   | ec7890d7c6 | Joshua C. Colp    | res_sorcery_config: Always reload     |
   |            |                   | configuration on errors.              |
   |------------+-------------------+---------------------------------------|
   | f506cc4896 | Ben Ford          | res_stir_shaken: Add unit tests for   |
   |            |                   | signing and verification.             |
   |------------+-------------------+---------------------------------------|
   | e29df34de0 | Ben Ford          | res_stir_shaken: Added dialplan       |
   |            |                   | function and API call.                |
   |------------+-------------------+---------------------------------------|
   | 44e5dd288b | Jaco Kroon        | Remove #include <sys/cdefs.h>         |
   |------------+-------------------+---------------------------------------|
   | 1cfd30bd8a | Joshua C. Colp    | res_stir_shaken: Use ast_asprintf for |
   |            |                   | creating file path.                   |
   |------------+-------------------+---------------------------------------|
   | 9acf840f7c | Ben Ford          | res_stir_shaken: Implemented          |
   |            |                   | signature verification.               |
   |------------+-------------------+---------------------------------------|
   | 7baf2c4bf1 | George Joseph     | app_voicemail: Add workaround for a   |
   |            |                   | gcc 10 issue with -Wrestrict          |
   |------------+-------------------+---------------------------------------|
   | 4ef5ba58f5 | Alexander Traud   | BuildSystem: Only if found LibPRI,    |
   |            |                   | check its optional parts.             |
   |------------+-------------------+---------------------------------------|
   | ef580f96e7 | Alexander Traud   | BuildSystem: Only if found external   |
   |            |                   | PJProject, check its optional parts.  |
   |------------+-------------------+---------------------------------------|
   | 611529fa52 | Alexander Traud   | res_stir_shaken: Do not build without |
   |            |                   | OpenSSL.                              |
   |------------+-------------------+---------------------------------------|
   |            |                   | res_audiosocket: Avoid                |
   | 27de0c9700 | Alexander Traud   | Sometimes-uninitialized Warning with  |
   |            |                   | Clang.                                |
   |------------+-------------------+---------------------------------------|
   | 2b80e5f5da | Jaco Kroon        | res_rtp_asterisk: iterate all local   |
   |            |                   | addresses looking to populate ICE.    |
   |------------+-------------------+---------------------------------------|
   | 1cf569ba2b | Jaco Kroon        | res_pjsip: document legal dtls_verify |
   |            |                   | endpoint options.                     |
   |------------+-------------------+---------------------------------------|
   | 52ecbbd014 | Alexander Traud   | _pjsua: Build even with Clang.        |
   |------------+-------------------+---------------------------------------|
   | ee1c7f465b | Alexander Traud   | res_rtp_asterisk: Build without       |
   |            |                   | PJProject.                            |
   |------------+-------------------+---------------------------------------|
   |            |                   | Revert "res_config_odbc: Preserve     |
   | 60925c68e8 | Sean Bright       | empty strings returned by the         |
   |            |                   | database"                             |
   |------------+-------------------+---------------------------------------|
   | c5f3836bcc | Jaco Kroon        | main/backtrace: binutils-2.34 fix.    |
   |------------+-------------------+---------------------------------------|
   | 7ba6d43083 | George Joseph     | test_res_pjsip_session_caps: Create   |
   |            |                   | unit test                             |
   |------------+-------------------+---------------------------------------|
   | 57a457c26c | Ben Ford          | res_stir_shaken: Implemented signing  |
   |            |                   | of JSON payload.                      |
   |------------+-------------------+---------------------------------------|
   | d32e559e8a | Jaco Kroon        | acl: implement a centralized ACL      |
   |            |                   | output mechanism for HAs and ACLs.    |
   |------------+-------------------+---------------------------------------|
   | 1b6c58896f | Joshua C. Colp    | chan_sip: Send 403 when ACL fails.    |
   |------------+-------------------+---------------------------------------|
   | 3ed80fc57b | Joshua C. Colp    | CHANGES: Change md file extension to  |
   |            |                   | txt.                                  |
   |------------+-------------------+---------------------------------------|
   | 26713dc88b | Kevin Harwell     | ast_coredumper: add Asterisk          |
   |            |                   | information dump                      |
   |------------+-------------------+---------------------------------------|
   | 6f731f153b | Jaco Kroon        | netsock2: compile fixes.              |
   |------------+-------------------+---------------------------------------|
   | 211bb8a79c | Ben Ford          | res_stir_shaken: Initial commit and   |
   |            |                   | reading private key.                  |
   |------------+-------------------+---------------------------------------|
   | a699e016dd | Jaco Kroon        | build: enable building with uClibc    |
   |------------+-------------------+---------------------------------------|
   | f824cd6a13 | Jaco Kroon        | build: search from newest to oldest   |
   |            |                   | for gmime.                            |
   |------------+-------------------+---------------------------------------|
   | 82c3939c38 | Jaco Kroon        | res_rtp_asterisk: implement ACL       |
   |            |                   | mechanism for ICE and STUN addresses. |
   |------------+-------------------+---------------------------------------|
   | 2ad64e97c0 | Jaco Kroon        | Update main/backtrace.c to deal with  |
   |            |                   | changes in binutils 2.34.             |
   |------------+-------------------+---------------------------------------|
   | 49cf84578e | Sean Bright       | chan_vpb: Fix 'catching polymorphic   |
   |            |                   | type ... by value' error              |
   |------------+-------------------+---------------------------------------|
   | d68f940f6e | Sean Bright       | dns_txt: Add TXT record parsing       |
   |            |                   | support                               |
   |------------+-------------------+---------------------------------------|
   | 00a7e4b51d | George Joseph     | CI: Create generic jenkinsfile        |
   |------------+-------------------+---------------------------------------|
   | e089779908 | Rodrigo RamÃrez   | res_rtp_asterisk: Add 'rtp show       |
   |            | Norambuena        | settings' cli command                 |
   |------------+-------------------+---------------------------------------|
   | 680e6b9774 | Walter Doekes     | app_queue: Refactor odd placement of  |
   |            |                   | if's around say_position              |
   |------------+-------------------+---------------------------------------|
   | 1e1651b4f4 | Kevin Harwell     | format_cap: make function parameters  |
   |            |                   | 'const'                               |
   |------------+-------------------+---------------------------------------|
   | 0b5c6fddf1 | Walter Doekes     | say: Remove unused "plural" option    |
   |            |                   | from main/say                         |
   |------------+-------------------+---------------------------------------|
   | 5cd7230f3c | Jaco Kroon        | addons/res_config_mysql: silense      |
   |            |                   | warnings about printf format errors.  |
   |------------+-------------------+---------------------------------------|
   | de6919f339 | Sean Bright       | ast_tls_cert: Allow private key size  |
   |            |                   | to be set on command line             |
   |------------+-------------------+---------------------------------------|
   | 8dcdce42a9 | Sean Bright       | app_mixmonitor: Turn on               |
   |            |                   | synchronization by default            |
   |------------+-------------------+---------------------------------------|
   | 0f6ee98c3f | Joshua C. Colp    | stasis: Use format specifier for      |
   |            |                   | size_t.                               |
   |------------+-------------------+---------------------------------------|
   | 1e037ebb97 | Sean Bright       | func_odbc: Prevent snprintf()         |
   |            |                   | truncation warning                    |
   |------------+-------------------+---------------------------------------|
   | a72caa041f | George Joseph     | doc: Fix CHANGES entries to have .txt |
   |            |                   | suffix and update READMEs             |
   |------------+-------------------+---------------------------------------|
   | 1b53d329ac | Joshua C. Colp    | res_rtp_asterisk: Don't produce       |
   |            |                   | transport-cc if no packets.           |
   |------------+-------------------+---------------------------------------|
   | b76ab5e5c9 | George Joseph     | message.c: Add option to suppress the |
   |            |                   | Message channel AMI and ARI events    |
   |------------+-------------------+---------------------------------------|
   | 113d05e504 | Walter Doekes     | chan_sip: Clarify in sample docs how  |
   |            |                   | directmediapermit/-acl should be used |
   |------------+-------------------+---------------------------------------|
   | 262221f4d9 | Sean Bright       | func_odbc.conf.sample: Add example    |
   |            |                   | lookup                                |
   |------------+-------------------+---------------------------------------|
   | f09cf4da44 | Sean Bright       | app_voicemail: Remove MessageExists   |
   |            |                   | and MESSAGE_EXISTS()                  |
   |------------+-------------------+---------------------------------------|
   | 5cbf47714a | Sean Bright       | app_voicemail, say: Fix various       |
   |            |                   | leading whitespace problems           |
   |------------+-------------------+---------------------------------------|
   |            |                   | netsock2:                             |
   | 3bc8b36537 | Jaco Kroon        | ast_addressfamily_to_sockaddrsize and |
   |            |                   | ast_sockaddr_from_sockaddr.           |
   |------------+-------------------+---------------------------------------|
   | 00a7432156 | Kevin Harwell     | app_agent_pool: Update XML docs for   |
   |            |                   | AgentLogin                            |
   |------------+-------------------+---------------------------------------|
   | 19069f7db7 | Richard Mudgett   | app_bridgeaddchan.c: Make BridgeAdd   |
   |            |                   | be more like Bridge                   |
   |------------+-------------------+---------------------------------------|
   | 0376f2bba9 | Richard Mudgett   | features.c: Make Bridge application   |
   |            |                   | tolerate unspecified channel.         |
   |------------+-------------------+---------------------------------------|
   | 0d1f3d9bf3 | Richard Mudgett   | app_chanspy.c: Reduce log message     |
   |            |                   | level from notice to verbose.         |
   |------------+-------------------+---------------------------------------|
   | a457947198 | Richard Mudgett   | app_softhangup.c: Reduce unnecessary  |
   |            |                   | warning to verbose message.           |
   |------------+-------------------+---------------------------------------|
   | fc99ac8c9a | Sean Bright       | db: Initialize condition primitive    |
   |            |                   | before use                            |
   |------------+-------------------+---------------------------------------|
   | 32160cb456 | Jaco Kroon        | ACL: ast_apply_acl_nolog - identical  |
   |            |                   | to ast_apply_acl but without logging. |
   |------------+-------------------+---------------------------------------|
   | d0b198b330 | Joshua Colp       | Revert "PJSIP_CONTACT: add missing    |
   |            |                   | argument documentation"               |
   |------------+-------------------+---------------------------------------|
   |            |                   | res_pjsip_registrar.c: Prevent        |
   | 0183e2bc67 | Sean Bright       | possible buffer overflow with domain  |
   |            |                   | aliases                               |
   |------------+-------------------+---------------------------------------|
   | fd823225a6 | Thomas Arimont    | channel.c: Resolve issue with         |
   |            |                   | receiving SIP INFO packets for DTMF   |
   |------------+-------------------+---------------------------------------|
   | 366da90f74 | George Joseph     | CI: Turn off shallow cloning          |
   |            |                   | altogether                            |
   |------------+-------------------+---------------------------------------|
   | 91c3b5b09d | Sean Bright       | media_cache.c: Various CLI            |
   |            |                   | improvements                          |
   |------------+-------------------+---------------------------------------|
   | 48161dfc71 | Rodrigo RamÃrez   | queue_log: Add alembic script for     |
   |            | Norambuena        | generate db table for queue_log       |
   |------------+-------------------+---------------------------------------|
   | 2a6a2800e7 | George Joseph     | CI: Fix missing script block in       |
   |            |                   | jenkinsfiles                          |
   |------------+-------------------+---------------------------------------|
   | 4abb54b2e4 | George Joseph     | CI: Fix missing script block in       |
   |            |                   | jenkinsfiles                          |
   |------------+-------------------+---------------------------------------|
   | e8e1314fcb | George Joseph     | CI: Increase clone depth and do       |
   |            |                   | better cleanup                        |
   |------------+-------------------+---------------------------------------|
   | a5fa0d662e | Sean Bright       | res_pjsip_registrar: Fix uninitlized  |
   |            |                   | variable warning                      |
   |------------+-------------------+---------------------------------------|
   | f2d5ed54ea | Alexei Gradinari  | serializer: set high/low alert levels |
   |            |                   | on whole pool                         |
   |------------+-------------------+---------------------------------------|
   | bdd785d31c | Kevin Harwell     | various files - fix some alerts       |
   |            |                   | raised by lgtm code analysis          |
   |------------+-------------------+---------------------------------------|
   | 0e3b397812 | Kevin Harwell     | res_pjsip_session: initialize         |
   |            |                   | pending's topology to endpoint's      |
   |------------+-------------------+---------------------------------------|
   | 8a1f30af04 | Corey Farrell     | core: Improve MALLOC_DEBUG for        |
   |            |                   | frames.                               |
   |------------+-------------------+---------------------------------------|
   | d71d0f9489 | George Joseph     | ExternalMedia: Change return object   |
   |            |                   | from ExternalMedia to Channel         |
   |------------+-------------------+---------------------------------------|
   | 6e907ae5d4 | Joshua Colp       | res_rtp_asterisk: Remove a log        |
   |            |                   | message that slipped in.              |
   |------------+-------------------+---------------------------------------|
   | a60d2e905c | Joshua Colp       | test_res_rtp: Enable FIR and REMB     |
   |            |                   | nominal tests.                        |
   |------------+-------------------+---------------------------------------|
   | b27a5183da | Chris Savinovich  | test_taskprocessor.c: Fix test        |
   |            |                   | failure on Ubuntu                     |
   |------------+-------------------+---------------------------------------|
   | c0efe19cec | Kevin Harwell     | serializer: move/add asterisk         |
   |            |                   | serializer pool functionality         |
   |------------+-------------------+---------------------------------------|
   | 2970a13fb8 | Kevin Harwell     | res_pjsip/res_pjsip_mwi: use          |
   |            |                   | centralized serializer pools          |
   |------------+-------------------+---------------------------------------|
   | 068ed2c626 | Alexei Gradinari  | res_pjsip_pubsub: add endpoint to     |
   |            |                   | some warning                          |
   |------------+-------------------+---------------------------------------|
   | ba64d68273 | Jonathan Rose     | basic-pbx: Bring forward queue        |
   |            |                   | configuration from 13                 |
   |------------+-------------------+---------------------------------------|
   | 4c3655ecfd | Ben Ford          | taskprocessor.c: Added "like" support |
   |            |                   | to 'core show taskprocessors'         |
   |------------+-------------------+---------------------------------------|
   | 966488ab52 | Sean Bright       | res_musiconhold: Add new 'playlist'   |
   |            |                   | mode                                  |
   |------------+-------------------+---------------------------------------|
   | f7045cefd9 | Corey Farrell     | stasis_state: Create internal         |
   |            |                   | stasis_state_proxy object.            |
   |------------+-------------------+---------------------------------------|
   | 67ba62f4e6 | Kevin Harwell     | res_pjsip_pubsub: change warning to   |
   |            |                   | debug                                 |
   |------------+-------------------+---------------------------------------|
   | 4de1e6d0e6 | Ben Ford          | taskprocessor.c: Add CLI commands to  |
   |            |                   | reset taskprocessor stats.            |
   |------------+-------------------+---------------------------------------|
   | 725e991faf | Corey Farrell     | core: Add AO2_ALLOC_OPT_NO_REF_DEBUG  |
   |            |                   | option.                               |
   |------------+-------------------+---------------------------------------|
   | e82f2f6e82 | George Joseph     | astmm.c: Display backtrace with       |
   |            |                   | memory show allocations               |
   |------------+-------------------+---------------------------------------|
   | a4142c8437 | Corey Farrell     | core: Fix ABI mismatch of             |
   |            |                   | ao2_global_obj.                       |
   |------------+-------------------+---------------------------------------|
   | ca608d2575 | Corey Farrell     | stasis: refcounter.py can incorrectly |
   |            |                   | report skewed objects.                |
   |------------+-------------------+---------------------------------------|
   | 3dfbc05c53 | Corey Farrell     | stasis: Fix leaks                     |
   |------------+-------------------+---------------------------------------|
   | 863fe2225f | Corey Farrell     | app_voicemail: Fix module unload      |
   |            |                   | leak.                                 |
   |------------+-------------------+---------------------------------------|
   | 723b695ce5 | Ben Ford          | res_rtp_asterisk.c: Send RTCP as      |
   |            |                   | compound packets.                     |
   |------------+-------------------+---------------------------------------|
   | 0e56643d9f | Ben Ford          | res_rtp: Add unit tests for RTCP      |
   |            |                   | stats.                                |
   |------------+-------------------+---------------------------------------|
   | 2ae1a22e0e | George Joseph     | ARI: External Media                   |
   |------------+-------------------+---------------------------------------|
   | 5fb9b23105 | George Joseph     | chan_sip: Update links referenced in  |
   |            |                   | deprecation notice                    |
   |------------+-------------------+---------------------------------------|
   |            |                   | test_utils.c: Skip test               |
   | ed757cc7bb | Chris-Savinovich  | adsi_loaded_test if module not        |
   |            |                   | loaded.                               |
   |------------+-------------------+---------------------------------------|
   | 1d06a1efb3 | Igor Goncharovsky | chan_unistim: Fix code, causing all   |
   |            |                   | incoming DTMF sent back to asterisk   |
   |------------+-------------------+---------------------------------------|
   | 649003821e | Igor Goncharovsky | chan_unistim: Fix RTP port byte order |
   |            |                   | for big-endian arch                   |
   |------------+-------------------+---------------------------------------|
   | 3ef52b0b17 | Alexei Gradinari  | Fix misname 'res_external_mwi' to     |
   |            |                   | 'res_mwi_external' in comments.       |
   |------------+-------------------+---------------------------------------|
   | 19045db392 | George Joseph     | chan_rtp: Accept hostname as well as  |
   |            |                   | ip address as destination             |
   |------------+-------------------+---------------------------------------|
   | 9e015713cc | George Joseph     | dns_core: Create new API              |
   |            |                   | ast_dns_resolve_ipv6_and_ipv4         |
   |------------+-------------------+---------------------------------------|
   | 8da4e28a81 | George Joseph     | res_ari.c: Prefer exact handler match |
   |            |                   | over wildcard                         |
   |------------+-------------------+---------------------------------------|
   | 64906c4c9b | Sean Bright       | audiohook.c: Substitute silence for   |
   |            |                   | unavailable audio frames              |
   |------------+-------------------+---------------------------------------|
   | 446bac733d | George Joseph     | CI: Escape backslashes in             |
   |            |                   | printenv/sort/tr                      |
   |------------+-------------------+---------------------------------------|
   | be6130607d | George Joseph     | CI: Add "throttle" label and          |
   |            |                   | "skip_gate" capability                |
   |------------+-------------------+---------------------------------------|
   | c01dd2a41a | George Joseph     | CI: Make node labels job-specific     |
   |------------+-------------------+---------------------------------------|
   | 9d07d5a6d6 | Sean Bright       | app_voicemail: Remove extra           |
   |            |                   | menuselect build options              |
   |------------+-------------------+---------------------------------------|
   | 1f8ae708a0 | Sean Bright       | res_musiconhold: Use a vector instead |
   |            |                   | of custom array allocation            |
   |------------+-------------------+---------------------------------------|
   | 5f66fb5139 | Sean Bright       | manager: Send fewer packets           |
   |------------+-------------------+---------------------------------------|
   | 5e6e1175d5 | Asterisk          | Update CHANGES and UPGRADE.txt for    |
   |            | Development Team  | 17.0.0                                |
   |------------+-------------------+---------------------------------------|
   | 8d10028b98 | George Joseph     | Update master for Asterisk 18         |
   |------------+-------------------+---------------------------------------|
   | 7ce9ee7f2e | Sean Bright       | res_musiconhold: Use                  |
   |            |                   | ast_pipe_nonblock() wrapper           |
   |------------+-------------------+---------------------------------------|
   | 8e44d823c1 | George Joseph     | loader.c: Fix possible SEGV when a    |
   |            |                   | module fails to register              |
   +------------------------------------------------------------------------+

     ----------------------------------------------------------------------

                                Diffstat Results

                                 [Back to Top]

   This is a summary of the changes to the source code that went into this
   release that was generated using the diffstat utility.

 asterisk-17.0.0-summary.html                                                                  | 1265 --
 asterisk-17.0.0-summary.txt                                                                   | 2973 ----
 b/.gitreview                                                                                  |    2
 b/.version                                                                                    |    2
 b/CHANGES                                                                                     |  400
 b/ChangeLog                                                                                   | 6317 +++++++++-
 b/Makefile                                                                                    |    8
 b/Makefile.rules                                                                              |   19
 b/README-SERIOUSLY.bestpractices.md                                                           |    4
 b/UPGRADE.txt                                                                                 |  120
 b/addons/cdr_mysql.c                                                                          |   18
 b/addons/chan_mobile.c                                                                        |   63
 b/addons/chan_ooh323.c                                                                        |    7
 b/addons/ooh323c/src/decode.c                                                                 |   10
 b/addons/ooh323c/src/ooSocket.c                                                               |    2
 b/addons/ooh323c/src/oochannels.c                                                             |    2
 b/addons/res_config_mysql.c                                                                   |   16
 b/apps/app_agent_pool.c                                                                       |    4
 b/apps/app_amd.c                                                                              |   24
 b/apps/app_audiosocket.c                                                                      |  240
 b/apps/app_bridgeaddchan.c                                                                    |   62
 b/apps/app_cdr.c                                                                              |    8
 b/apps/app_chanisavail.c                                                                      |  137
 b/apps/app_chanspy.c                                                                          |    3
 b/apps/app_confbridge.c                                                                       |    9
 b/apps/app_dahdiras.c                                                                         |    6
 b/apps/app_dial.c                                                                             |  108
 b/apps/app_dictate.c                                                                          |    4
 b/apps/app_fax.c                                                                              |    2
 b/apps/app_followme.c                                                                         |   10
 b/apps/app_getcpeid.c                                                                         |    1
 b/apps/app_meetme.c                                                                           |    2
 b/apps/app_minivm.c                                                                           |    3
 b/apps/app_mixmonitor.c                                                                       |   51
 b/apps/app_osplookup.c                                                                        |   13
 b/apps/app_page.c                                                                             |   30
 b/apps/app_playback.c                                                                         |    9
 b/apps/app_queue.c                                                                            |  201
 b/apps/app_readexten.c                                                                        |    3
 b/apps/app_record.c                                                                           |    3
 b/apps/app_senddtmf.c                                                                         |   13
 b/apps/app_softhangup.c                                                                       |    2
 b/apps/app_stack.c                                                                            |   11
 b/apps/app_stream_echo.c                                                                      |    2
 b/apps/app_voicemail.c                                                                        |  839 -
 b/apps/confbridge/conf_config_parser.c                                                        |   30
 b/apps/confbridge/confbridge_manager.c                                                        |    2
 b/apps/confbridge/include/confbridge.h                                                        |    2
 b/asterisk-18.0.0-rc2-summary.html                                                            |   15
 b/asterisk-18.0.0-rc2-summary.txt                                                             |   83
 b/bridges/bridge_native_rtp.c                                                                 |  173
 b/bridges/bridge_simple.c                                                                     |  200
 b/bridges/bridge_softmix.c                                                                    |  281
 b/cdr/cdr_odbc.c                                                                              |    2
 b/cdr/cdr_pgsql.c                                                                             |    2
 b/cel/cel_pgsql.c                                                                             |    2
 b/channels/Makefile                                                                           |    2
 b/channels/chan_audiosocket.c                                                                 |  302
 b/channels/chan_dahdi.c                                                                       |   39
 b/channels/chan_dahdi.h                                                                       |   18
 b/channels/chan_iax2.c                                                                        |   16
 b/channels/chan_motif.c                                                                       |    9
 b/channels/chan_pjsip.c                                                                       |  314
 b/channels/chan_rtp.c                                                                         |   19
 b/channels/chan_sip.c                                                                         |  268
 b/channels/chan_unistim.c                                                                     |  178
 b/channels/chan_vpb.cc                                                                        |    2
 b/channels/iax2/parser.c                                                                      |   18
 b/channels/pjsip/cli_commands.c                                                               |   13
 b/channels/pjsip/dialplan_functions.c                                                         |   84
 b/channels/pjsip/include/dialplan_functions.h                                                 |   25
 b/channels/sig_pri.c                                                                          |   25
 b/channels/sip/include/sip.h                                                                  |    1
 b/codecs/Makefile                                                                             |    3
 b/codecs/ex_alaw.h                                                                            |    5
 b/codecs/ex_g722.h                                                                            |    5
 b/codecs/ex_ulaw.h                                                                            |    5
 b/codecs/speex/arch.h                                                                         |   13
 b/codecs/speex/fixed_generic.h                                                                |    4
 b/codecs/speex/resample.c                                                                     |  332
 b/codecs/speex/speex_resampler.h                                                              |    4
 b/configs/basic-pbx/extensions.conf                                                           |   14
 b/configs/basic-pbx/modules.conf                                                              |    1
 b/configs/basic-pbx/queues.conf                                                               |   19
 b/configs/samples/asterisk.conf.sample                                                        |    6
 b/configs/samples/confbridge.conf.sample                                                      |    7
 b/configs/samples/extconfig.conf.sample                                                       |    1
 b/configs/samples/func_odbc.conf.sample                                                       |   19
 b/configs/samples/http.conf.sample                                                            |   10
 b/configs/samples/indications.conf.sample                                                     |   11
 b/configs/samples/logger.conf.sample                                                          |   15
 b/configs/samples/musiconhold.conf.sample                                                     |   23
 b/configs/samples/pjsip.conf.sample                                                           |   79
 b/configs/samples/queues.conf.sample                                                          |    2
 b/configs/samples/rtp.conf.sample                                                             |   30
 b/configs/samples/sip.conf.sample                                                             |    4
 b/configs/samples/stir_shaken.conf.sample                                                     |   61
 b/configure                                                                                   |  666 -
 b/configure.ac                                                                                |  196
 b/contrib/ast-db-manage/README.md                                                             |    1
 b/contrib/ast-db-manage/config/versions/61797b9fced6_add_stir_shaken.py                       |   31
 b/contrib/ast-db-manage/config/versions/79290b511e4b_pjsip_add_disable_rport.py               |   39
 b/contrib/ast-db-manage/config/versions/b80485ff4dd0_add_pjsip_endpoint_acn_options.py        |   29
 b/contrib/ast-db-manage/config/versions/fbb7766f17bc_add_playlist_to_moh.py                   |   54
 b/contrib/ast-db-manage/queue_log.ini.sample                                                  |   58
 b/contrib/ast-db-manage/queue_log/env.py                                                      |    1
 b/contrib/ast-db-manage/queue_log/script.py.mako                                              |   24
 b/contrib/ast-db-manage/queue_log/versions/4105ee839f58_create_queue_log_table.py             |   38
 b/contrib/realtime/mysql/mysql_config.sql                                                     |   39
 b/contrib/realtime/postgresql/postgresql_config.sql                                           |   45
 b/contrib/scripts/ast_coredumper                                                              |  421
 b/contrib/scripts/ast_tls_cert                                                                |    8
 b/contrib/scripts/install_prereq                                                              |   30
 b/contrib/scripts/sip_nat_settings                                                            |   19
 b/contrib/scripts/sip_to_pjsip/sip_to_pjsip.py                                                |    2
 b/contrib/valgrind.supp                                                                       |   14
 b/doc/CHANGES-staging/README.md                                                               |    8
 b/doc/CHANGES-staging/hide_messaging_ami_events                                               |   11
 b/doc/UPGRADE-staging/README.md                                                               |    7
 b/doc/appdocsxml.dtd                                                                          |    2
 b/formats/format_g726.c                                                                       |   16
 b/formats/msgsm.h                                                                             |    4
 b/funcs/func_aes.c                                                                            |    4
 b/funcs/func_channel.c                                                                        |    8
 b/funcs/func_curl.c                                                                           |   49
 b/funcs/func_env.c                                                                            |    5
 b/funcs/func_jitterbuffer.c                                                                   |   19
 b/funcs/func_odbc.c                                                                           |   26
 b/funcs/func_pjsip_contact.c                                                                  |    6
 b/funcs/func_volume.c                                                                         |   12
 b/include/asterisk/abstract_jb.h                                                              |    4
 b/include/asterisk/acl.h                                                                      |   69
 b/include/asterisk/app.h                                                                      |    7
 b/include/asterisk/ari.h                                                                      |    2
 b/include/asterisk/astobj2.h                                                                  |   61
 b/include/asterisk/audiohook.h                                                                |    2
 b/include/asterisk/autoconfig.h.in                                                            |    9
 b/include/asterisk/bridge.h                                                                   |   21
 b/include/asterisk/bridge_features.h                                                          |    4
 b/include/asterisk/calendar.h                                                                 |    4
 b/include/asterisk/channel.h                                                                  |   87
 b/include/asterisk/channel_internal.h                                                         |    5
 b/include/asterisk/config.h                                                                   |   18
 b/include/asterisk/config_options.h                                                           |    2
 b/include/asterisk/conversions.h                                                              |   54
 b/include/asterisk/core_unreal.h                                                              |   19
 b/include/asterisk/dns_core.h                                                                 |   22
 b/include/asterisk/dns_internal.h                                                             |   31
 b/include/asterisk/dns_txt.h                                                                  |   64
 b/include/asterisk/format_cache.h                                                             |    5
 b/include/asterisk/format_cap.h                                                               |   15
 b/include/asterisk/frame.h                                                                    |   40
 b/include/asterisk/http_websocket.h                                                           |   14
 b/include/asterisk/iostream.h                                                                 |   14
 b/include/asterisk/logger.h                                                                   |  426
 b/include/asterisk/manager.h                                                                  |    2
 b/include/asterisk/max_forwards.h                                                             |    1
 b/include/asterisk/message.h                                                                  |   31
 b/include/asterisk/mixmonitor.h                                                               |    5
 b/include/asterisk/netsock2.h                                                                 |   42
 b/include/asterisk/options.h                                                                  |    7
 b/include/asterisk/parking.h                                                                  |    5
 b/include/asterisk/res_audiosocket.h                                                          |   87
 b/include/asterisk/res_fax.h                                                                  |    3
 b/include/asterisk/res_pjsip.h                                                                |  106
 b/include/asterisk/res_pjsip_presence_xml.h                                                   |    5
 b/include/asterisk/res_pjsip_pubsub.h                                                         |   23
 b/include/asterisk/res_pjsip_session.h                                                        |   27
 b/include/asterisk/res_pjsip_session_caps.h                                                   |   82
 b/include/asterisk/res_stir_shaken.h                                                          |  117
 b/include/asterisk/rtp_engine.h                                                               |  111
 b/include/asterisk/say.h                                                                      |    4
 b/include/asterisk/serializer.h                                                               |   85
 b/include/asterisk/slin.h                                                                     |    5
 b/include/asterisk/sorcery.h                                                                  |   27
 b/include/asterisk/stasis.h                                                                   |    3
 b/include/asterisk/stasis_app.h                                                               |   10
 b/include/asterisk/stasis_channels.h                                                          |    8
 b/include/asterisk/stream.h                                                                   |  463
 b/include/asterisk/strings.h                                                                  |   53
 b/include/asterisk/taskprocessor.h                                                            |    9
 b/include/asterisk/utf8.h                                                                     |  188
 b/include/asterisk/utils.h                                                                    |   59
 b/include/asterisk/vector.h                                                                   |   50
 b/main/Makefile                                                                               |    1
 b/main/abstract_jb.c                                                                          |  178
 b/main/acl.c                                                                                  |  105
 b/main/app.c                                                                                  |   26
 b/main/ast_expr2.c                                                                            |    1
 b/main/ast_expr2.y                                                                            |    1
 b/main/asterisk.c                                                                             |   41
 b/main/asterisk.exports.in                                                                    |    1
 b/main/astmm.c                                                                                |   23
 b/main/astobj2.c                                                                              |   88
 b/main/astobj2_container.c                                                                    |   24
 b/main/astobj2_global.c                                                                       |   97
 b/main/astobj2_hash.c                                                                         |   21
 b/main/astobj2_rbtree.c                                                                       |   13
 b/main/audiohook.c                                                                            |   20
 b/main/backtrace.c                                                                            |    9
 b/main/bridge.c                                                                               |   15
 b/main/bridge_channel.c                                                                       |   62
 b/main/cdr.c                                                                                  |   15
 b/main/channel.c                                                                              |  204
 b/main/channel_internal_api.c                                                                 |   12
 b/main/cli.c                                                                                  |  261
 b/main/codec_builtin.c                                                                        |    8
 b/main/config.c                                                                               |   28
 b/main/conversions.c                                                                          |   51
 b/main/core_local.c                                                                           |  112
 b/main/core_unreal.c                                                                          |  141
 b/main/data_buffer.c                                                                          |    2
 b/main/db.c                                                                                   |    3
 b/main/dial.c                                                                                 |   14
 b/main/dns_core.c                                                                             |   75
 b/main/dns_srv.c                                                                              |    6
 b/main/dns_txt.c                                                                              |  127
 b/main/enum.c                                                                                 |  104
 b/main/event.c                                                                                |   17
 b/main/features.c                                                                             |   38
 b/main/file.c                                                                                 |   46
 b/main/format_cache.c                                                                         |    8
 b/main/format_cap.c                                                                           |   24
 b/main/frame.c                                                                                |  160
 b/main/http.c                                                                                 |   62
 b/main/indications.c                                                                          |    6
 b/main/iostream.c                                                                             |   14
 b/main/logger.c                                                                               |  150
 b/main/manager.c                                                                              |  210
 b/main/media_cache.c                                                                          |   47
 b/main/message.c                                                                              |   55
 b/main/named_acl.c                                                                            |    9
 b/main/options.c                                                                              |   11
 b/main/pbx.c                                                                                  |   35
 b/main/pbx_variables.c                                                                        |   31
 b/main/rtp_engine.c                                                                           |  137
 b/main/say.c                                                                                  |  968 -
 b/main/serializer.c                                                                           |  189
 b/main/sorcery.c                                                                              |   46
 b/main/stasis.c                                                                               |   53
 b/main/stasis_cache.c                                                                         |   10
 b/main/stasis_channels.c                                                                      |    7
 b/main/stasis_state.c                                                                         |  298
 b/main/strcompat.c                                                                            |   94
 b/main/stream.c                                                                               |  432
 b/main/taskprocessor.c                                                                        |  219
 b/main/tcptls.c                                                                               |   33
 b/main/translate.c                                                                            |    8
 b/main/utf8.c                                                                                 |  380
 b/main/utils.c                                                                                |   50
 b/makeopts.in                                                                                 |    6
 b/menuselect/configure                                                                        |   14
 b/menuselect/menuselect.c                                                                     |   14
 b/menuselect/menuselect.h                                                                     |    2
 b/pbx/pbx_dundi.c                                                                             |   21
 b/res/Makefile                                                                                |    2
 b/res/ari/ari_model_validators.c                                                              |   59
 b/res/ari/ari_model_validators.h                                                              |   23
 b/res/ari/config.c                                                                            |   10
 b/res/ari/resource_bridges.c                                                                  |    1
 b/res/ari/resource_bridges.h                                                                  |    2
 b/res/ari/resource_channels.c                                                                 |  245
 b/res/ari/resource_channels.h                                                                 |   46
 b/res/ari/resource_events.c                                                                   |   10
 b/res/parking/parking_bridge.c                                                                |   36
 b/res/parking/parking_bridge_features.c                                                       |   14
 b/res/parking/res_parking.h                                                                   |    5
 b/res/res_agi.c                                                                               |   20
 b/res/res_ari_bridges.c                                                                       |    7
 b/res/res_ari_channels.c                                                                      |  147
 b/res/res_ari_events.c                                                                        |    2
 b/res/res_audiosocket.c                                                                       |  345
 b/res/res_audiosocket.exports.in                                                              |    4
 b/res/res_calendar_ews.c                                                                      |    1
 b/res/res_calendar_exchange.c                                                                 |    1
 b/res/res_calendar_icalendar.c                                                                |    1
 b/res/res_config_curl.c                                                                       |    7
 b/res/res_config_pgsql.c                                                                      |    2
 b/res/res_corosync.c                                                                          |  564
 b/res/res_fax.c                                                                               |   37
 b/res/res_http_websocket.c                                                                    |   97
 b/res/res_musiconhold.c                                                                       |  472
 b/res/res_phoneprov.c                                                                         |    6
 b/res/res_pjsip.c                                                                             |  492
 b/res/res_pjsip/config_system.c                                                               |    8
 b/res/res_pjsip/config_transport.c                                                            |   17
 b/res/res_pjsip/location.c                                                                    |   25
 b/res/res_pjsip/pjsip_configuration.c                                                         |  209
 b/res/res_pjsip/pjsip_message_filter.c                                                        |   40
 b/res/res_pjsip/pjsip_options.c                                                               |    7
 b/res/res_pjsip/pjsip_resolver.c                                                              |   30
 b/res/res_pjsip_acl.c                                                                         |   20
 b/res/res_pjsip_caller_id.c                                                                   |    3
 b/res/res_pjsip_config_wizard.c                                                               |    7
 b/res/res_pjsip_dialog_info_body_generator.c                                                  |   80
 b/res/res_pjsip_diversion.c                                                                   |    7
 b/res/res_pjsip_dlg_options.c                                                                 |    3
 b/res/res_pjsip_dtmf_info.c                                                                   |    1
 b/res/res_pjsip_empty_info.c                                                                  |    1
 b/res/res_pjsip_endpoint_identifier_ip.c                                                      |  102
 b/res/res_pjsip_history.c                                                                     |    4
 b/res/res_pjsip_logger.c                                                                      |  451
 b/res/res_pjsip_messaging.c                                                                   |   58
 b/res/res_pjsip_mwi.c                                                                         |  339
 b/res/res_pjsip_nat.c                                                                         |  110
 b/res/res_pjsip_notify.c                                                                      |   22
 b/res/res_pjsip_one_touch_record_info.c                                                       |    1
 b/res/res_pjsip_outbound_registration.c                                                       |   66
 b/res/res_pjsip_path.c                                                                        |    1
 b/res/res_pjsip_pubsub.c                                                                      |  148
 b/res/res_pjsip_refer.c                                                                       |    8
 b/res/res_pjsip_registrar.c                                                                   |   80
 b/res/res_pjsip_rfc3326.c                                                                     |    1
 b/res/res_pjsip_sdp_rtp.c                                                                     |  283
 b/res/res_pjsip_session.c                                                                     |  667 -
 b/res/res_pjsip_session.exports.in                                                            |    1
 b/res/res_pjsip_session/pjsip_session_caps.c                                                  |  164
 b/res/res_pjsip_stir_shaken.c                                                                 |  330
 b/res/res_pjsip_t38.c                                                                         |   40
 b/res/res_pjsip_transport_websocket.c                                                         |    4
 b/res/res_realtime.c                                                                          |   56
 b/res/res_resolver_unbound.c                                                                  |    6
 b/res/res_rtp_asterisk.c                                                                      | 1100 +
 b/res/res_sorcery_config.c                                                                    |   14
 b/res/res_sorcery_memory_cache.c                                                              |   18
 b/res/res_speech.c                                                                            |    7
 b/res/res_srtp.c                                                                              |    8
 b/res/res_stasis.c                                                                            |   57
 b/res/res_stasis_playback.c                                                                   |    4
 b/res/res_statsd.c                                                                            |   35
 b/res/res_stir_shaken.c                                                                       | 1663 ++
 b/res/res_stir_shaken.exports.in                                                              |    6
 b/res/res_stir_shaken/certificate.c                                                           |  388
 b/res/res_stir_shaken/certificate.h                                                           |  119
 b/res/res_stir_shaken/curl.c                                                                  |  199
 b/res/res_stir_shaken/curl.h                                                                  |   73
 b/res/res_stir_shaken/general.c                                                               |  286
 b/res/res_stir_shaken/general.h                                                               |  111
 b/res/res_stir_shaken/stir_shaken.c                                                           |  119
 b/res/res_stir_shaken/stir_shaken.h                                                           |   55
 b/res/res_stir_shaken/store.c                                                                 |  202
 b/res/res_stir_shaken/store.h                                                                 |   37
 b/res/stasis/app.c                                                                            |   15
 b/res/stasis/command.c                                                                        |    2
 b/res/stasis/control.c                                                                        |   14
 b/res/stasis/messaging.c                                                                      |   11
 b/res/stasis/stasis_bridge.c                                                                  |   16
 b/res/stasis/stasis_bridge.h                                                                  |    3
 b/rest-api-templates/make_ari_stubs.py                                                        |    2
 b/rest-api-templates/res_ari_resource.c.mustache                                              |    2
 b/rest-api/api-docs/bridges.json                                                              |    9
 b/rest-api/api-docs/channels.json                                                             |  143
 b/rest-api/api-docs/endpoints.json                                                            |   20
 b/rest-api/resources.json                                                                     |    2
 b/tests/CI/buildAsterisk.sh                                                                   |    2
 b/tests/CI/gates.jenkinsfile                                                                  |   12
 b/tests/CI/periodics-daily.jenkinsfile                                                        |   11
 b/tests/CI/publishAsteriskDocs.sh                                                             |    4
 b/tests/CI/ref_debug.jenkinsfile                                                              |    9
 b/tests/CI/unittests.jenkinsfile                                                              |    9
 b/tests/CI/universal-asterisk-nongerrit.jenkinsfile                                           |  452
 b/tests/test_conversions.c                                                                    |  153
 b/tests/test_data_buffer.c                                                                    |    2
 b/tests/test_locale.c                                                                         |   12
 b/tests/test_res_pjsip_session_caps.c                                                         |  176
 b/tests/test_res_rtp.c                                                                        |  516
 b/tests/test_scope_trace.c                                                                    |  126
 b/tests/test_stasis.c                                                                         |    2
 b/tests/test_stream.c                                                                         |    2
 b/tests/test_strings.c                                                                        |   39
 b/tests/test_taskprocessor.c                                                                  |   78
 b/tests/test_utils.c                                                                          |   11
 b/third-party/pjproject/Makefile                                                              |    3
 b/third-party/pjproject/configure.m4                                                          |  199
 b/third-party/pjproject/patches/0011-sip_inv_patch.patch                                      |   39
 b/third-party/pjproject/patches/0020-pjlib_cancel_timer_0.patch                               |   39
 b/third-party/pjproject/patches/0050-fix-race-parallel-build.patch                            |   72
 b/third-party/pjproject/patches/0060-clone-sdp-for-sip-timer-refresh-invite.patch             |   28
 b/third-party/pjproject/patches/config_site.h                                                 |    4
 b/third-party/pjproject/pjproject-2.10.tar.bz2.md5                                            |    2
 b/third-party/versions.mak                                                                    |    2
 b/utils/Makefile                                                                              |    6
 b/utils/astman.c                                                                              |    2
 b/utils/db1-ast/hash/ndbm.c                                                                   |    3
 b/utils/db1-ast/include/db.h                                                                  |    1
 b/utils/extconf.c                                                                             |   10
 b/utils/muted.c                                                                               |   11
 third-party/pjproject/patches/0010-ssl_sock_ossl-sip_transport_tls-Add-peer-to-error-me.patch |  157
 third-party/pjproject/patches/0020-patch_cnonce_only_digits_option.patch                      |   53
 third-party/pjproject/patches/0030-ssl-regression-fix.patch                                   |  105
 third-party/pjproject/patches/0031-transport-regression-fix.patch                             |  187
 third-party/pjproject/pjproject-2.9.tar.bz2.md5                                               |    2
 392 files changed, 29541 insertions(+), 9926 deletions(-)
